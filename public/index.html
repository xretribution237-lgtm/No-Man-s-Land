<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NO MAN'S LAND ‚Äî Digital Store</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Share+Tech+Mono&family=Barlow:ital,wght@0,300;0,400;0,600;0,700;1,300&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #03050a;
  --surface: #070d16;
  --surface2: #0a1422;
  --border: #0e2030;
  --border2: #1a3a50;
  --accent: #e8c547;
  --accent2: #ff4040;
  --accent3: #00b8d4;
  --text: #d0e4ef;
  --muted: #3a5a6e;
  --muted2: #5a7a8e;
  --glow-y: 0 0 24px rgba(232,197,71,0.35);
  --glow-r: 0 0 24px rgba(255,64,64,0.35);
  --glow-b: 0 0 24px rgba(0,184,212,0.35);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Barlow',sans-serif;overflow-x:hidden}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--accent)}
body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");pointer-events:none;z-index:9998;opacity:.5}
body::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.06) 2px,rgba(0,0,0,.06) 4px);pointer-events:none;z-index:9997}

/* CURSOR */
.cur{position:fixed;pointer-events:none;z-index:9999;transform:translate(-50%,-50%)}
.cur-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;box-shadow:var(--glow-y);transition:transform .15s}
.cur-ring{width:32px;height:32px;border:1px solid rgba(232,197,71,.35);border-radius:50%;transition:width .3s,height .3s}

/* ANNOUNCEMENT BANNER */
#announceBanner{display:none;position:relative;z-index:200;padding:10px 48px;text-align:center;font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;font-weight:700}
#announceBanner.yellow{background:var(--accent);color:var(--bg)}
#announceBanner.red{background:var(--accent2);color:#fff}
#announceBanner.blue{background:var(--accent3);color:var(--bg)}
.banner-close{position:absolute;right:20px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:16px;opacity:.6;transition:opacity .2s}
.banner-close:hover{opacity:1}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:500;display:flex;align-items:center;justify-content:space-between;padding:0 48px;height:64px;background:linear-gradient(180deg,rgba(3,5,10,.98) 0%,rgba(3,5,10,.6) 100%);border-bottom:1px solid rgba(232,197,71,.08);backdrop-filter:blur(12px);transition:top .3s}
.logo{font-family:'Bebas Neue',sans-serif;font-size:24px;letter-spacing:8px;color:var(--accent);text-shadow:var(--glow-y);text-decoration:none;position:relative}
.logo::after{content:'NO MAN\'S LAND';position:absolute;inset:0;color:var(--accent);filter:blur(6px);opacity:.3}
.nav-right{display:flex;align-items:center;gap:24px}
.nav-btn{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-transform:uppercase;color:var(--muted2);background:none;border:none;cursor:pointer;transition:color .2s;padding:4px 0;position:relative;text-decoration:none}
.nav-btn::after{content:'';position:absolute;bottom:-2px;left:0;right:100%;height:1px;background:var(--accent);transition:right .3s}
.nav-btn:hover{color:var(--accent)}.nav-btn:hover::after{right:0}
.nav-discord{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--bg);background:var(--accent);border:none;padding:8px 20px;clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);cursor:pointer;text-transform:uppercase;text-decoration:none;display:inline-block;transition:background .2s,box-shadow .2s;font-weight:700}
.nav-discord:hover{background:#f5d060;box-shadow:var(--glow-y)}

/* HERO */
.hero{min-height:100vh;display:flex;align-items:center;padding:80px 48px 60px;position:relative;overflow:hidden}
.hero-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(232,197,71,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(232,197,71,.025) 1px,transparent 1px);background-size:80px 80px;animation:gridDrift 25s linear infinite}
@keyframes gridDrift{to{transform:translateY(80px)}}
.hero-vignette{position:absolute;inset:0;background:radial-gradient(ellipse at 30% 50%,transparent 40%,rgba(3,5,10,.9) 100%)}
.hero-content{position:relative;z-index:2;max-width:640px}
.hero-eyebrow{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:5px;color:var(--accent);text-transform:uppercase;margin-bottom:28px;display:flex;align-items:center;gap:16px;animation:fadeUp .6s ease both}
.hero-eyebrow::before{content:'';width:32px;height:1px;background:var(--accent);box-shadow:var(--glow-y)}
.hero-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(80px,13vw,160px);line-height:.88;letter-spacing:3px;margin-bottom:32px;animation:fadeUp .6s .08s ease both}
.hero-title .t1{display:block;color:var(--text)}
.hero-title .t2{display:block;color:var(--accent);text-shadow:var(--glow-y);position:relative}
.hero-title .t2::before{content:attr(data-t);position:absolute;inset:0;color:var(--accent2);clip-path:polygon(0 40%,100% 40%,100% 60%,0 60%);transform:translateX(4px);opacity:0;animation:glitch 5s infinite 2s}
@keyframes glitch{0%,92%,100%{opacity:0}93%{opacity:.7;transform:translateX(5px)}94%{opacity:.7;transform:translateX(-5px)}95%{opacity:.3;transform:translateX(3px)}}
.hero-title .t3{display:block;color:var(--muted)}
.hero-desc{font-size:17px;font-weight:300;color:var(--muted2);max-width:440px;line-height:1.65;margin-bottom:48px;animation:fadeUp .6s .16s ease both}
.hero-desc strong{color:var(--text);font-weight:600}
.hero-actions{display:flex;gap:14px;animation:fadeUp .6s .24s ease both}
.btn{font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;text-decoration:none;display:inline-block;padding:14px 36px;cursor:pointer;border:none;transition:all .25s}
.btn-primary{color:var(--bg);background:var(--accent);clip-path:polygon(10px 0%,100% 0%,calc(100% - 10px) 100%,0% 100%);font-weight:700}
.btn-primary:hover{background:#f5d060;box-shadow:var(--glow-y);transform:translateY(-2px)}
.btn-ghost{color:var(--accent);background:transparent;border:1px solid rgba(232,197,71,.25)}
.btn-ghost:hover{border-color:var(--accent);background:rgba(232,197,71,.05);box-shadow:var(--glow-y)}
.hero-badge{position:absolute;right:80px;top:50%;transform:translateY(-50%);z-index:2;display:flex;flex-direction:column;gap:28px;animation:fadeUp .8s .4s ease both}
.stat{text-align:right;border-right:2px solid var(--accent);padding-right:16px;position:relative}
.stat::before{content:'';position:absolute;right:-5px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:var(--accent);border-radius:50%;box-shadow:var(--glow-y)}
.stat-n{font-family:'Bebas Neue',sans-serif;font-size:38px;color:var(--accent);line-height:1;text-shadow:var(--glow-y)}
.stat-l{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}

/* TICKER */
.ticker{background:var(--accent);overflow:hidden;padding:8px 0;position:relative;z-index:10}
.ticker-track{display:flex;animation:tickerScroll 28s linear infinite;white-space:nowrap}
.ticker-item{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:4px;color:var(--bg);text-transform:uppercase;padding:0 36px;font-weight:700}
.ticker-sep{color:rgba(0,0,0,.3)}
@keyframes tickerScroll{to{transform:translateX(-50%)}}

/* SECTION */
.section{padding:90px 48px}
.sec-head{margin-bottom:40px}
.sec-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:5px;color:var(--accent);text-transform:uppercase;margin-bottom:10px;display:flex;align-items:center;gap:10px}
.sec-label::before{content:'//';color:var(--muted)}
.sec-title{font-family:'Bebas Neue',sans-serif;font-size:52px;letter-spacing:3px;line-height:1}
.sec-head-row{display:flex;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;gap:16px}

/* FILTER */
.filter-bar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:32px}
.filter-btn{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;padding:7px 16px;background:transparent;border:1px solid var(--border2);color:var(--muted2);cursor:pointer;transition:all .2s}
.filter-btn.active,.filter-btn:hover{border-color:var(--accent);color:var(--accent);background:rgba(232,197,71,.05)}

/* PRODUCTS */
#products-section{background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2px}
.product-card{background:var(--bg);border:1px solid var(--border);overflow:hidden;position:relative;cursor:pointer;transition:border-color .3s,transform .3s}
.product-card:hover{border-color:rgba(232,197,71,.4);transform:translateY(-4px);z-index:2}
.product-card:hover .pc-overlay{opacity:1}
.product-card:hover .pc-buy{transform:translateY(0);opacity:1}
.product-card.coming-soon{opacity:.65;cursor:default}
.product-card.coming-soon:hover{transform:none;border-color:var(--border)}
.pc-img{height:220px;position:relative;overflow:hidden;background:var(--surface2);display:flex;align-items:center;justify-content:center}
.pc-img img{width:100%;height:100%;object-fit:cover;display:block}
.pc-img-placeholder{font-size:64px;opacity:.12;font-family:'Bebas Neue',sans-serif;letter-spacing:4px;color:var(--accent);user-select:none}
.pc-overlay{position:absolute;inset:0;background:linear-gradient(135deg,rgba(232,197,71,.08),rgba(0,184,212,.05));opacity:0;transition:opacity .3s}
.pc-badge{position:absolute;top:14px;left:14px;font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;padding:3px 10px;text-transform:uppercase;clip-path:polygon(5px 0%,100% 0%,calc(100% - 5px) 100%,0% 100%)}
.badge-new{background:var(--accent3);color:var(--bg)}.badge-hot{background:var(--accent2);color:#fff}.badge-sale{background:var(--accent);color:var(--bg)}.badge-limited{background:#9b59b6;color:#fff}.badge-soon{background:var(--muted);color:var(--bg)}
.pc-views{position:absolute;top:14px;right:14px;font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:1px;color:rgba(255,255,255,.4);background:rgba(0,0,0,.5);padding:2px 8px}
.pc-buy{position:absolute;bottom:0;left:0;right:0;background:rgba(232,197,71,.92);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-align:center;padding:11px;text-transform:uppercase;font-weight:700;transform:translateY(100%);opacity:0;transition:transform .3s,opacity .3s}
.pc-body{padding:20px 22px 22px;border-top:1px solid var(--border)}
.pc-cat{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--accent);text-transform:uppercase;margin-bottom:6px}
.pc-name{font-size:17px;font-weight:700;color:var(--text);margin-bottom:8px;line-height:1.3}
.pc-desc{font-size:13px;font-weight:300;color:var(--muted2);margin-bottom:16px;line-height:1.5}
.pc-foot{display:flex;align-items:center;justify-content:space-between}
.pc-price{font-family:'Bebas Neue',sans-serif;font-size:30px;color:var(--accent);letter-spacing:2px;text-shadow:var(--glow-y)}
.pc-price .orig{font-size:16px;color:var(--muted);text-decoration:line-through;margin-right:6px}
.pc-stock{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.pc-variants{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:12px}
.pc-variant-tag{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:1px;padding:2px 8px;border:1px solid var(--border2);color:var(--muted2);text-transform:uppercase}
.empty-state{grid-column:1/-1;text-align:center;padding:80px 20px;font-family:'Share Tech Mono',monospace;font-size:12px;letter-spacing:3px;color:var(--muted);text-transform:uppercase}

/* SKELETON */
.loading-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2px}
.skeleton{background:var(--surface2);border:1px solid var(--border);overflow:hidden;position:relative}
.skeleton::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(232,197,71,.03),transparent);animation:shimmer 1.5s infinite}
@keyframes shimmer{from{transform:translateX(-100%)}to{transform:translateX(100%)}}
.skel-img{height:220px}.skel-body{padding:20px}
.skel-line{height:12px;background:var(--border2);border-radius:2px;margin-bottom:10px}
.skel-line.short{width:60%}

/* TRUST */
.trust{background:var(--bg);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.trust-grid{display:grid;grid-template-columns:repeat(4,1fr)}
.trust-item{padding:48px 36px;border-right:1px solid var(--border);position:relative;overflow:hidden;transition:background .3s}
.trust-item:last-child{border-right:none}
.trust-item:hover{background:rgba(232,197,71,.02)}
.trust-num{position:absolute;top:-10px;right:-5px;font-family:'Bebas Neue',sans-serif;font-size:100px;color:var(--accent);opacity:.025;line-height:1;pointer-events:none}
.trust-icon{font-size:26px;margin-bottom:16px;display:block}
.trust-title{font-family:'Bebas Neue',sans-serif;font-size:22px;letter-spacing:2px;color:var(--text);margin-bottom:10px}
.trust-desc{font-size:13px;font-weight:300;color:var(--muted2);line-height:1.6}

/* CTA */
.cta-section{padding:100px 48px;text-align:center;position:relative;overflow:hidden}
.cta-bg{position:absolute;inset:0;background:radial-gradient(ellipse at 50% 50%,rgba(232,197,71,.04) 0%,transparent 60%)}
.cta-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,8vw,96px);letter-spacing:4px;margin-bottom:20px;position:relative;z-index:2}
.cta-title span{color:var(--accent);text-shadow:var(--glow-y)}
.cta-sub{font-size:15px;color:var(--muted2);max-width:460px;margin:0 auto 40px;line-height:1.65;position:relative;z-index:2}
.cta-btns{display:flex;justify-content:center;gap:14px;position:relative;z-index:2}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:36px 48px;display:flex;align-items:center;justify-content:space-between}
.foot-logo{font-family:'Bebas Neue',sans-serif;font-size:20px;letter-spacing:6px;color:var(--muted)}
.foot-copy{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.foot-links{display:flex;gap:20px}
.foot-links a{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-decoration:none;text-transform:uppercase;transition:color .2s;cursor:pointer}
.foot-links a:hover{color:var(--accent)}

/* MODAL BASE */
.modal-overlay{position:fixed;inset:0;z-index:1000;background:rgba(3,5,10,.92);backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;padding:20px}
.modal-overlay.open{display:flex}
@keyframes modalIn{from{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:16px;right:20px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);background:none;border:none;cursor:pointer;text-transform:uppercase;transition:color .2s}
.modal-close:hover{color:var(--accent2)}

/* PRODUCT DETAIL MODAL */
.detail-modal{background:var(--surface);border:1px solid rgba(232,197,71,.2);width:100%;max-width:780px;max-height:92vh;overflow-y:auto;position:relative;animation:modalIn .3s ease}
.detail-modal::-webkit-scrollbar{width:3px}
.detail-modal::-webkit-scrollbar-thumb{background:var(--accent)}
.detail-layout{display:grid;grid-template-columns:1fr 1fr}
.detail-img{height:100%;min-height:360px;position:relative;background:var(--surface2);display:flex;align-items:center;justify-content:center;overflow:hidden}
.detail-img img{width:100%;height:100%;object-fit:cover}
.detail-img-placeholder{font-family:'Bebas Neue',sans-serif;font-size:80px;opacity:.1;color:var(--accent)}
.detail-body{padding:36px 32px;overflow-y:auto}
.detail-eyebrow{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:4px;color:var(--accent);text-transform:uppercase;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between}
.detail-views{font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--muted)}
.detail-name{font-family:'Bebas Neue',sans-serif;font-size:36px;letter-spacing:2px;color:var(--text);line-height:1;margin-bottom:16px}
.detail-price-wrap{margin-bottom:20px}
.detail-price{font-family:'Bebas Neue',sans-serif;font-size:40px;color:var(--accent);letter-spacing:2px;text-shadow:var(--glow-y);line-height:1}
.detail-price .orig{font-size:22px;color:var(--muted);text-decoration:line-through;margin-right:8px}
.detail-desc{font-size:13px;font-weight:300;color:var(--muted2);line-height:1.7;margin-bottom:24px;white-space:pre-line;border-top:1px solid var(--border);padding-top:16px}

/* VARIANTS */
.variants-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:var(--muted2);text-transform:uppercase;margin-bottom:10px}
.variants-grid{display:flex;flex-direction:column;gap:6px;margin-bottom:20px}
.variant-row{display:flex;align-items:center;justify-content:space-between;background:var(--bg);border:1px solid var(--border);padding:10px 14px;cursor:pointer;transition:border-color .2s}
.variant-row:hover,.variant-row.selected{border-color:var(--accent);background:rgba(232,197,71,.04)}
.variant-name{font-size:14px;font-weight:600;color:var(--text)}
.variant-price{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--accent)}
.variant-orig{font-size:13px;color:var(--muted);text-decoration:line-through;margin-right:6px}
.variant-stock{font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--muted);margin-left:8px}

/* COUPON */
.coupon-row{display:flex;gap:8px;margin-bottom:20px}
.coupon-input{flex:1;background:var(--bg);border:1px solid var(--border2);color:var(--text);font-family:'Share Tech Mono',monospace;font-size:11px;padding:10px 14px;outline:none;text-transform:uppercase;letter-spacing:2px;transition:border-color .2s}
.coupon-input:focus{border-color:var(--accent)}
.coupon-input::placeholder{color:var(--muted);text-transform:none;letter-spacing:1px}
.coupon-btn{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;background:var(--surface2);border:1px solid var(--border2);color:var(--muted2);padding:10px 16px;cursor:pointer;transition:all .2s}
.coupon-btn:hover{border-color:var(--accent);color:var(--accent)}
.coupon-status{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;margin-bottom:12px;display:none}
.coupon-status.ok{color:#00c853}.coupon-status.err{color:var(--accent2)}
.final-price-row{display:flex;align-items:center;justify-content:space-between;background:rgba(232,197,71,.05);border:1px solid rgba(232,197,71,.15);padding:12px 14px;margin-bottom:20px;display:none}
.final-price-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted2);text-transform:uppercase}
.final-price-val{font-family:'Bebas Neue',sans-serif;font-size:24px;color:var(--accent)}

.discord-input-group{margin-bottom:16px}
.discord-input-label{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted2);text-transform:uppercase;display:block;margin-bottom:6px}
.discord-input{width:100%;background:var(--bg);border:1px solid var(--border2);color:var(--text);font-family:'Share Tech Mono',monospace;font-size:13px;padding:10px 14px;outline:none;transition:border-color .2s}
.discord-input:focus{border-color:var(--accent)}

.btn-discord{display:flex;align-items:center;justify-content:center;gap:10px;background:#5865F2;color:#fff;font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;padding:14px;border:none;cursor:pointer;transition:background .2s,box-shadow .2s;font-weight:700;width:100%;margin-bottom:8px}
.btn-discord:hover{background:#4752c4;box-shadow:0 0 20px rgba(88,101,242,.4)}
.btn-cancel{background:transparent;color:var(--muted);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-transform:uppercase;border:1px solid var(--border);padding:12px;cursor:pointer;transition:all .2s;width:100%}
.btn-cancel:hover{color:var(--accent2);border-color:rgba(255,64,64,.3)}

/* WAITLIST MODAL */
.waitlist-modal{background:var(--surface);border:1px solid rgba(0,184,212,.25);max-width:440px;width:100%;clip-path:polygon(12px 0%,100% 0%,calc(100% - 12px) 100%,0% 100%);animation:modalIn .3s ease;position:relative}
.waitlist-head{padding:28px 32px 20px;border-bottom:1px solid var(--border)}
.waitlist-title{font-family:'Bebas Neue',sans-serif;font-size:28px;letter-spacing:3px;color:var(--accent3)}
.waitlist-sub{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);margin-top:4px;text-transform:uppercase}
.waitlist-body{padding:24px 32px 28px}
.waitlist-product{font-size:14px;font-weight:600;color:var(--text);margin-bottom:16px}
.btn-waitlist{width:100%;background:var(--accent3);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;border:none;padding:14px;cursor:pointer;font-weight:700;margin-top:16px;transition:background .2s}
.btn-waitlist:hover{background:#00d4f0}

/* LOGIN MODAL */
.login-modal{background:var(--surface);border:1px solid rgba(232,197,71,.2);max-width:400px;width:100%;clip-path:polygon(12px 0%,100% 0%,calc(100% - 12px) 100%,0% 100%);animation:modalIn .3s ease;position:relative}
.login-head{padding:32px 32px 24px;border-bottom:1px solid var(--border)}
.login-title{font-family:'Bebas Neue',sans-serif;font-size:30px;letter-spacing:4px;color:var(--accent)}
.login-sub{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);margin-top:6px;text-transform:uppercase}
.login-body{padding:28px 32px 32px}
.login-error{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--accent2);text-transform:uppercase;margin-bottom:14px;display:none}

/* ADMIN MODAL */
.admin-modal{background:var(--surface);border:1px solid rgba(232,197,71,.2);width:100%;max-width:760px;max-height:92vh;overflow-y:auto;position:relative;animation:modalIn .3s ease}
.admin-modal::-webkit-scrollbar{width:3px}
.admin-modal::-webkit-scrollbar-thumb{background:var(--accent)}
.admin-head{padding:20px 32px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:var(--surface);z-index:10}
.admin-title{font-family:'Bebas Neue',sans-serif;font-size:24px;letter-spacing:3px;color:var(--accent)}
.admin-tabs{display:flex;border-bottom:1px solid var(--border)}
.admin-tab{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;padding:12px 22px;background:none;border:none;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s;margin-bottom:-1px}
.admin-tab.active,.admin-tab:hover{color:var(--accent);border-bottom-color:var(--accent)}
.tab-content{display:none}.tab-content.active{display:block}
.admin-section{padding:20px 32px;border-bottom:1px solid var(--border)}
.admin-section-title{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:var(--muted);text-transform:uppercase;margin-bottom:16px}
.form-group{margin-bottom:13px}
.form-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted2);text-transform:uppercase;display:block;margin-bottom:5px}
.form-input{width:100%;background:var(--bg);border:1px solid var(--border2);color:var(--text);font-family:'Barlow',sans-serif;font-size:14px;padding:9px 12px;outline:none;transition:border-color .2s}
.form-input:focus{border-color:var(--accent)}
.form-input::placeholder{color:var(--muted)}
textarea.form-input{resize:vertical;min-height:72px}
select.form-input{cursor:pointer}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.form-row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
.img-upload-area{border:2px dashed var(--border2);padding:24px;text-align:center;cursor:pointer;transition:border-color .2s;position:relative}
.img-upload-area:hover{border-color:var(--accent);background:rgba(232,197,71,.02)}
.img-upload-area input{position:absolute;inset:0;opacity:0;cursor:pointer}
.img-upload-icon{font-size:24px;margin-bottom:6px}
.img-upload-text{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.img-preview{width:100%;max-height:120px;object-fit:cover;margin-top:10px;display:none}
.form-actions{padding:14px 32px 22px;display:flex;gap:8px}
.btn-save{flex:1;background:var(--accent);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;border:none;padding:12px;cursor:pointer;font-weight:700;clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);transition:background .2s}
.btn-save:hover{background:#f5d060}.btn-save:disabled{opacity:.5;cursor:not-allowed}
.btn-del{background:transparent;color:var(--accent2);border:1px solid rgba(255,64,64,.3);padding:12px 20px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .2s}
.btn-del:hover{background:rgba(255,64,64,.1);border-color:var(--accent2)}
.prod-list{display:flex;flex-direction:column;gap:2px}
.prod-item{display:flex;align-items:center;gap:12px;background:var(--bg);border:1px solid var(--border);padding:10px 14px;cursor:pointer;transition:border-color .2s}
.prod-item:hover{border-color:rgba(232,197,71,.3)}
.prod-item-img{width:40px;height:40px;object-fit:cover;flex-shrink:0;background:var(--surface2)}
.prod-item-name{font-size:13px;font-weight:600;color:var(--text)}
.prod-item-price{font-family:'Bebas Neue',sans-serif;font-size:16px;color:var(--accent);margin-left:auto;flex-shrink:0}
.prod-item-cat{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}

/* VARIANTS EDITOR */
.variants-editor{margin-top:10px}
.variant-edit-row{display:grid;grid-template-columns:1fr 80px 80px 70px 28px;gap:6px;align-items:center;margin-bottom:6px}
.variant-edit-row input{background:var(--bg);border:1px solid var(--border2);color:var(--text);font-size:13px;padding:7px 10px;outline:none;transition:border-color .2s}
.variant-edit-row input:focus{border-color:var(--accent)}
.btn-add-variant{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;background:transparent;border:1px dashed var(--border2);color:var(--muted2);padding:8px;cursor:pointer;width:100%;margin-top:4px;transition:all .2s}
.btn-add-variant:hover{border-color:var(--accent);color:var(--accent)}
.btn-rm-variant{background:transparent;border:1px solid rgba(255,64,64,.2);color:var(--accent2);width:28px;height:28px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s}
.btn-rm-variant:hover{background:rgba(255,64,64,.1)}

/* INQUIRY TABLE */
.inq-table{width:100%;border-collapse:collapse}
.inq-table th{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;padding:8px 10px;border-bottom:1px solid var(--border);text-align:left}
.inq-table td{font-size:12px;color:var(--text);padding:8px 10px;border-bottom:1px solid var(--border);vertical-align:top}
.inq-table tr:hover td{background:rgba(232,197,71,.02)}
.inq-product{font-weight:600}
.inq-price{font-family:'Bebas Neue',sans-serif;font-size:16px;color:var(--accent)}
.inq-user{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--accent3)}
.inq-date{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted)}
.status-badge{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;padding:2px 7px;text-transform:uppercase;cursor:pointer;border:none;transition:all .2s}
.status-pending{background:rgba(232,197,71,.15);color:var(--accent);border:1px solid rgba(232,197,71,.3)}
.status-done{background:rgba(0,184,212,.1);color:var(--accent3);border:1px solid rgba(0,184,212,.3)}
.status-cancelled{background:rgba(255,64,64,.1);color:var(--accent2);border:1px solid rgba(255,64,64,.3)}
.inq-empty{padding:28px;text-align:center;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--muted);text-transform:uppercase}

/* COUPON TABLE */
.coupon-table{width:100%;border-collapse:collapse;margin-bottom:16px}
.coupon-table th{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;padding:8px 10px;border-bottom:1px solid var(--border);text-align:left}
.coupon-table td{font-size:13px;padding:8px 10px;border-bottom:1px solid var(--border)}
.coupon-code{font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--accent);letter-spacing:2px}
.btn-coupon-del{background:none;border:none;color:var(--muted);cursor:pointer;font-size:14px;transition:color .2s}
.btn-coupon-del:hover{color:var(--accent2)}

/* WAITLIST TABLE */
.waitlist-table{width:100%;border-collapse:collapse}
.waitlist-table th{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;padding:8px 10px;border-bottom:1px solid var(--border);text-align:left}
.waitlist-table td{font-size:12px;padding:8px 10px;border-bottom:1px solid var(--border);color:var(--text)}

/* TOAST */
.toast{position:fixed;bottom:32px;right:32px;z-index:9000;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;padding:14px 24px;border-left:3px solid var(--accent);background:var(--surface);color:var(--text);transform:translateX(120%);transition:transform .3s ease;max-width:320px}
.toast.show{transform:translateX(0)}.toast.error{border-color:var(--accent2)}

/* REVEAL */
.reveal{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}
.reveal.vis{opacity:1;transform:translateY(0)}

@media(max-width:768px){
  nav{padding:0 20px}.hero{padding:80px 20px 60px}.hero-badge{display:none}
  .hero-title{font-size:clamp(64px,18vw,100px)}.section{padding:60px 20px}
  .trust-grid{grid-template-columns:1fr 1fr}.trust-item{border-bottom:1px solid var(--border)}
  footer{flex-direction:column;gap:16px;text-align:center;padding:28px 20px}
  .detail-layout{grid-template-columns:1fr}
  .detail-img{min-height:200px;max-height:240px}
  .admin-modal,.detail-modal{max-width:100%;margin:0 8px}
  .form-row,.form-row-3{grid-template-columns:1fr}
  .variant-edit-row{grid-template-columns:1fr 70px 60px 28px}
}
</style>
</head>
<body>

<div class="cur" id="curDot"><div class="cur-dot"></div></div>
<div class="cur" id="curRing"><div class="cur-ring"></div></div>
<div class="toast" id="toast"></div>

<!-- ANNOUNCEMENT BANNER -->
<div id="announceBanner">
  <span id="announceText"></span>
  <button class="banner-close" onclick="dismissBanner()">‚úï</button>
</div>

<!-- NAV -->
<nav id="mainNav">
  <a href="#" class="logo">NO MAN'S LAND</a>
  <div class="nav-right">
    <button class="nav-btn" onclick="smoothTo('#products-section')">Shop</button>
    <button class="nav-btn" onclick="openLogin()">Admin</button>
    <a href="https://discord.gg/yRDud7tW" target="_blank" class="nav-discord">Discord</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-grid"></div>
  <div class="hero-vignette"></div>
  <div class="hero-content">
    <div class="hero-eyebrow">Digital Goods ‚Äî All Categories</div>
    <h1 class="hero-title">
      <span class="t1">NO</span>
      <span class="t2" data-t="MAN'S">MAN'S</span>
      <span class="t3">LAND</span>
    </h1>
    <p class="hero-desc">Your one-stop shop for <strong>premium digital products</strong>. Instant delivery, trusted source, real prices.</p>
    <div class="hero-actions">
      <a href="#products-section" class="btn btn-primary">Browse Store</a>
      <a href="https://discord.gg/yRDud7tW" target="_blank" class="btn btn-ghost">Join Discord</a>
    </div>
  </div>
  <div class="hero-badge">
    <div class="stat"><div class="stat-n" id="statProducts">‚Äî</div><div class="stat-l">Products</div></div>
    <div class="stat"><div class="stat-n">24/7</div><div class="stat-l">Support</div></div>
    <div class="stat"><div class="stat-n">100%</div><div class="stat-l">Legit</div></div>
  </div>
</section>

<!-- TICKER -->
<div class="ticker"><div class="ticker-track" id="tickerTrack"></div></div>

<!-- PRODUCTS -->
<section class="section" id="products-section">
  <div class="sec-head reveal">
    <div class="sec-head-row"><div><div class="sec-label">Inventory</div><h2 class="sec-title">THE STORE</h2></div></div>
  </div>
  <div class="filter-bar" id="filterBar"></div>
  <div id="loadingGrid" class="loading-grid">
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
  </div>
  <div class="products-grid" id="productsGrid" style="display:none"></div>
</section>

<!-- TRUST -->
<div class="trust reveal">
  <div class="trust-grid">
    <div class="trust-item"><div class="trust-num">01</div><span class="trust-icon">‚ö°</span><div class="trust-title">Instant Delivery</div><div class="trust-desc">Your digital goods handed off fast.</div></div>
    <div class="trust-item"><div class="trust-num">02</div><span class="trust-icon">üõ°Ô∏è</span><div class="trust-title">Buyer Protection</div><div class="trust-desc">Issues? Hit us up on Discord.</div></div>
    <div class="trust-item"><div class="trust-num">03</div><span class="trust-icon">üí¨</span><div class="trust-title">Direct Contact</div><div class="trust-desc">Real human behind every sale.</div></div>
    <div class="trust-item"><div class="trust-num">04</div><span class="trust-icon">üî•</span><div class="trust-title">Always Stocked</div><div class="trust-desc">Fresh products added regularly.</div></div>
  </div>
</div>

<!-- CTA -->
<section class="cta-section reveal">
  <div class="cta-bg"></div>
  <h2 class="cta-title">READY TO <span>BUY?</span></h2>
  <p class="cta-sub">Hit the button, DM us on Discord, and we'll sort you out. Fast, easy, no nonsense.</p>
  <div class="cta-btns">
    <a href="#products-section" class="btn btn-primary">Browse Products</a>
    <a href="https://discord.gg/yRDud7tW" target="_blank" class="btn btn-ghost">Open Discord</a>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="foot-logo">NO MAN'S LAND</div>
  <div class="foot-copy">¬© 2025 No Man's Land</div>
  <div class="foot-links">
    <a onclick="smoothTo('#products-section')">Shop</a>
    <a href="https://discord.gg/yRDud7tW" target="_blank">Discord</a>
    <a onclick="openLogin()">Admin</a>
  </div>
</footer>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRODUCT DETAIL MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="detailOverlay">
  <div class="detail-modal">
    <button class="modal-close" onclick="closeModal('detailOverlay')">‚úï Close</button>
    <div class="detail-layout">
      <div class="detail-img" id="detailImg"></div>
      <div class="detail-body">
        <div class="detail-eyebrow">
          <span id="detailCat">‚Äî</span>
          <span class="detail-views" id="detailViews"></span>
        </div>
        <div class="detail-name" id="detailName">‚Äî</div>
        <div class="detail-price-wrap">
          <div class="detail-price" id="detailPrice">‚Äî</div>
        </div>
        <!-- VARIANTS -->
        <div id="variantsSection" style="display:none">
          <div class="variants-label">Choose a variant:</div>
          <div class="variants-grid" id="variantsGrid"></div>
        </div>
        <!-- COUPON -->
        <div class="coupon-row">
          <input type="text" class="coupon-input" id="couponInput" placeholder="Coupon code (optional)" oninput="this.value=this.value.toUpperCase()">
          <button class="coupon-btn" onclick="applyCoupon()">Apply</button>
        </div>
        <div class="coupon-status" id="couponStatus"></div>
        <div class="final-price-row" id="finalPriceRow">
          <span class="final-price-label">Final Price</span>
          <span class="final-price-val" id="finalPriceVal">‚Äî</span>
        </div>
        <!-- DISCORD USERNAME -->
        <div class="discord-input-group">
          <label class="discord-input-label">Your Discord Username (optional)</label>
          <input type="text" class="discord-input" id="detailDiscordUser" placeholder="@yourname">
        </div>
        <button class="btn-discord" onclick="submitDetailInquiry()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057c.002.022.015.043.03.056a19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.995a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
          Buy on Discord
        </button>
        <button class="btn-cancel" onclick="closeModal('detailOverlay')">Cancel</button>
        <div class="detail-desc" id="detailDesc"></div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WAITLIST MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="waitlistOverlay">
  <div class="waitlist-modal">
    <button class="modal-close" onclick="closeModal('waitlistOverlay')">‚úï</button>
    <div class="waitlist-head">
      <div class="waitlist-title">JOIN WAITLIST</div>
      <div class="waitlist-sub">Get notified when this launches</div>
    </div>
    <div class="waitlist-body">
      <div class="waitlist-product" id="waitlistProductName"></div>
      <div class="form-group">
        <label class="form-label">Your Discord Username *</label>
        <input type="text" class="form-input" id="waitlistDiscord" placeholder="@yourname">
      </div>
      <button class="btn-waitlist" onclick="submitWaitlist()">Notify Me When Live</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGIN MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="loginOverlay">
  <div class="login-modal">
    <button class="modal-close" onclick="closeModal('loginOverlay')">‚úï</button>
    <div class="login-head">
      <div class="login-title">ADMIN ACCESS</div>
      <div class="login-sub">No Man's Land Control Panel</div>
    </div>
    <div class="login-body">
      <div class="login-error" id="loginError">Wrong password.</div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" class="form-input" id="loginPassword" placeholder="Enter admin password" onkeydown="if(event.key==='Enter')doLogin()">
      </div>
      <div style="margin-top:16px">
        <button class="btn-save" style="width:100%;clip-path:none" onclick="doLogin()" id="loginBtn">Enter</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ADMIN MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="adminOverlay">
  <div class="admin-modal">
    <div class="admin-head">
      <div class="admin-title">ADMIN PANEL</div>
      <div style="display:flex;gap:12px;align-items:center">
        <button class="nav-btn" onclick="adminLogout()" style="color:var(--accent2)">Logout</button>
        <button class="modal-close" style="position:static" onclick="closeModal('adminOverlay')">‚úï</button>
      </div>
    </div>
    <div class="admin-tabs">
      <button class="admin-tab active" onclick="switchTab('products')">Products</button>
      <button class="admin-tab" onclick="switchTab('orders')">Orders</button>
      <button class="admin-tab" onclick="switchTab('coupons')">Coupons</button>
      <button class="admin-tab" onclick="switchTab('waitlist')">Waitlist</button>
      <button class="admin-tab" onclick="switchTab('announce')">Announce</button>
    </div>

    <!-- PRODUCTS TAB -->
    <div class="tab-content active" id="tab-products">
      <div class="admin-section">
        <div class="admin-section-title" id="formTitle">Create New Product</div>
        <input type="hidden" id="editId">
        <div class="form-row">
          <div class="form-group"><label class="form-label">Name *</label><input type="text" class="form-input" id="fName" placeholder="Netflix Premium"></div>
          <div class="form-group"><label class="form-label">Category</label>
            <select class="form-input" id="fCategory"><option>Accounts</option><option>Digital</option><option>Software</option><option>Gaming</option><option>Other</option></select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group"><label class="form-label">Price (USD) *</label><input type="number" class="form-input" id="fPrice" placeholder="9.99" step="0.01" min="0"></div>
          <div class="form-group"><label class="form-label">Original Price (crossed out)</label><input type="number" class="form-input" id="fOriginalPrice" placeholder="14.99 (optional)" step="0.01" min="0"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label class="form-label">Badge</label>
            <select class="form-input" id="fBadge"><option value="">None</option><option value="NEW">NEW</option><option value="HOT">HOT</option><option value="SALE">SALE</option><option value="LIMITED">LIMITED</option><option value="SOON">SOON</option></select>
          </div>
          <div class="form-group"><label class="form-label">Stock</label><input type="number" class="form-input" id="fStock" placeholder="999" min="0"></div>
        </div>
        <div class="form-group"><label class="form-label">Description</label><textarea class="form-input" id="fDesc" placeholder="Describe the product..."></textarea></div>
        <div class="form-row">
          <div class="form-group"><label style="display:flex;align-items:center;gap:8px;cursor:pointer"><input type="checkbox" id="fFeatured"> <span class="form-label" style="margin:0">Featured</span></label></div>
          <div class="form-group"><label style="display:flex;align-items:center;gap:8px;cursor:pointer"><input type="checkbox" id="fComingSoon"> <span class="form-label" style="margin:0">Coming Soon</span></label></div>
        </div>

        <!-- VARIANTS EDITOR -->
        <div class="form-group">
          <label class="form-label">Variants (optional)</label>
          <div style="font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--muted);letter-spacing:1px;margin-bottom:8px">Name | Sale Price | Original Price | Stock</div>
          <div class="variants-editor" id="variantsEditor"></div>
          <button class="btn-add-variant" onclick="addVariantRow()">+ Add Variant</button>
        </div>

        <div class="form-group"><label class="form-label">Product Image</label>
          <div class="img-upload-area">
            <input type="file" accept="image/*" id="fImage" onchange="previewImage(event)">
            <div class="img-upload-icon">üì∑</div>
            <div class="img-upload-text">Click to upload (max 10MB)</div>
            <img class="img-preview" id="imgPreview">
          </div>
        </div>
      </div>
      <div class="form-actions">
        <button class="btn-save" id="saveBtn" onclick="saveProduct()">Save Product</button>
        <button class="btn-del" id="deleteBtn" style="display:none" onclick="deleteProduct()">Delete</button>
        <button class="btn-cancel" onclick="resetForm()">Clear</button>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">Existing Products</div>
        <div class="prod-list" id="adminProdList"></div>
      </div>
    </div>

    <!-- ORDERS TAB -->
    <div class="tab-content" id="tab-orders">
      <div class="admin-section">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
          <div class="admin-section-title" style="margin:0">Purchase Inquiries</div>
          <button class="nav-btn" onclick="loadInquiries()" style="font-size:9px">‚Üª Refresh</button>
        </div>
        <div id="inquiryContainer"><div class="inq-empty">Loading...</div></div>
      </div>
    </div>

    <!-- COUPONS TAB -->
    <div class="tab-content" id="tab-coupons">
      <div class="admin-section">
        <div class="admin-section-title">Create Coupon</div>
        <div class="form-row-3">
          <div class="form-group"><label class="form-label">Code</label><input type="text" class="form-input" id="cCode" placeholder="SAVE20" oninput="this.value=this.value.toUpperCase()"></div>
          <div class="form-group"><label class="form-label">Discount %</label><input type="number" class="form-input" id="cPercent" placeholder="20" min="1" max="100"></div>
          <div class="form-group"><label class="form-label">Max Uses (0=unlimited)</label><input type="number" class="form-input" id="cMaxUses" placeholder="0" min="0"></div>
        </div>
        <button class="btn-save" style="clip-path:none;margin-top:4px" onclick="createCoupon()">Create Coupon</button>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">Active Coupons</div>
        <div id="couponList"><div class="inq-empty">Loading...</div></div>
      </div>
    </div>

    <!-- WAITLIST TAB -->
    <div class="tab-content" id="tab-waitlist">
      <div class="admin-section">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
          <div class="admin-section-title" style="margin:0">Waitlist Signups</div>
          <button class="nav-btn" onclick="loadWaitlist()" style="font-size:9px">‚Üª Refresh</button>
        </div>
        <div id="waitlistContainer"><div class="inq-empty">Loading...</div></div>
      </div>
    </div>

    <!-- ANNOUNCE TAB -->
    <div class="tab-content" id="tab-announce">
      <div class="admin-section">
        <div class="admin-section-title">Store Announcement Banner</div>
        <div class="form-group"><label class="form-label">Message</label><input type="text" class="form-input" id="aMessage" placeholder="üî• Flash sale ‚Äî 50% off all accounts today only!"></div>
        <div class="form-group"><label class="form-label">Color</label>
          <select class="form-input" id="aColor"><option value="yellow">Yellow (default)</option><option value="red">Red (urgent)</option><option value="blue">Blue (info)</option></select>
        </div>
        <div style="display:flex;gap:10px;margin-top:8px">
          <button class="btn-save" style="clip-path:none" onclick="postAnnouncement()">Post Banner</button>
          <button class="btn-del" onclick="clearAnnouncement()">Clear Banner</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const API = window.location.origin + '/api';
let adminToken = sessionStorage.getItem('nml_token') || null;
let allProducts = [];
let currentFilter = 'All';
let currentProduct = null;
let selectedVariant = null;
let appliedCoupon = null;
let variantRows = [];

// ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const dot=document.getElementById('curDot'),ring=document.getElementById('curRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;dot.style.left=mx+'px';dot.style.top=my+'px'});
(function anim(){rx+=(mx-rx)*.1;ry+=(my-ry)*.1;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(anim)})();

// ‚îÄ‚îÄ TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const ti=['Digital Products','Accounts','Software','Gaming','Fast Delivery','Trusted Seller','Coupons Available','Real Prices','Discord Support','Always Stocked'];
const tt=[...ti,...ti];
document.getElementById('tickerTrack').innerHTML=tt.map(i=>`<span class="ticker-item">${i} <span class="ticker-sep">‚óÜ</span></span>`).join('');

// ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const ro=new IntersectionObserver(es=>es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('vis');ro.unobserve(e.target)}}),{threshold:.1});
document.querySelectorAll('.reveal').forEach(r=>ro.observe(r));

function smoothTo(sel){document.querySelector(sel)?.scrollIntoView({behavior:'smooth'})}
function toast(msg,err=false){const t=document.getElementById('toast');t.textContent=msg;t.className='toast'+(err?' error':'');void t.offsetWidth;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3200)}
function openModal(id){document.getElementById(id).classList.add('open')}
function closeModal(id){document.getElementById(id).classList.remove('open')}
document.querySelectorAll('.modal-overlay').forEach(o=>{o.addEventListener('click',e=>{if(e.target===o)o.classList.remove('open')})});

// ‚îÄ‚îÄ ANNOUNCEMENT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadAnnouncement(){
  try{
    const res=await fetch(`${API}/announcements`);
    const a=await res.json();
    if(a&&a.message){
      const banner=document.getElementById('announceBanner');
      document.getElementById('announceText').textContent=a.message;
      banner.className=a.color||'yellow';
      banner.style.display='block';
      document.getElementById('mainNav').style.top='40px';
    }
  }catch(e){}
}
function dismissBanner(){
  document.getElementById('announceBanner').style.display='none';
  document.getElementById('mainNav').style.top='0';
}

// ‚îÄ‚îÄ PRODUCTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadProducts(){
  try{
    const res=await fetch(`${API}/products`);
    allProducts=await res.json();
    document.getElementById('statProducts').textContent=allProducts.filter(p=>!p.coming_soon).length;
    buildFilters();
    renderProducts(allProducts);
    if(adminToken)renderAdminList(allProducts);
  }catch(e){
    document.getElementById('loadingGrid').innerHTML=`<div class="empty-state">‚ö† Could not connect to server</div>`;
  }
}

function buildFilters(){
  const cats=['All',...new Set(allProducts.map(p=>p.category).filter(Boolean))];
  document.getElementById('filterBar').innerHTML=cats.map(c=>`<button class="filter-btn${c==='All'?' active':''}" onclick="setFilter('${c}')">${c}</button>`).join('');
}

function setFilter(cat){
  currentFilter=cat;
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.toggle('active',b.textContent===cat));
  renderProducts(cat==='All'?allProducts:allProducts.filter(p=>p.category===cat));
}

function priceHtml(price, orig){
  if(orig&&orig>price) return `<span class="orig">$${parseFloat(orig).toFixed(2)}</span>$${parseFloat(price).toFixed(2)}`;
  return `$${parseFloat(price).toFixed(2)}`;
}

function renderProducts(products){
  document.getElementById('loadingGrid').style.display='none';
  const grid=document.getElementById('productsGrid');
  grid.style.display='grid';
  if(!products.length){grid.innerHTML=`<div class="empty-state">No products found</div>`;return}
  grid.innerHTML=products.map(p=>`
    <div class="product-card${p.coming_soon?' coming-soon':''}" onclick="${p.coming_soon?`openWaitlist(${JSON.stringify(p).replace(/"/g,'&quot;')})`:`openDetail('${p.id}')`}">
      <div class="pc-img">
        ${p.image?`<img src="${p.image}" alt="${p.name}" loading="lazy">`:`<div class="pc-img-placeholder">NML</div>`}
        <div class="pc-overlay"></div>
        ${p.badge?`<div class="pc-badge badge-${p.badge.toLowerCase()}">${p.badge}</div>`:''}
        ${p.views?`<div class="pc-views">üëÅ ${p.views}</div>`:''}
        ${!p.coming_soon?`<div class="pc-buy">View & Buy ‚Üí</div>`:''}
      </div>
      <div class="pc-body">
        <div class="pc-cat">${p.category||'Digital'}</div>
        <div class="pc-name">${p.name}</div>
        ${p.variants&&p.variants.length?`<div class="pc-variants">${p.variants.slice(0,3).map(v=>`<span class="pc-variant-tag">${v.name}</span>`).join('')}${p.variants.length>3?`<span class="pc-variant-tag">+${p.variants.length-3}</span>`:''}</div>`:''}
        ${p.description&&!p.variants?.length?`<div class="pc-desc">${p.description.substring(0,80)}${p.description.length>80?'‚Ä¶':''}</div>`:''}
        <div class="pc-foot">
          <div class="pc-price">${p.coming_soon?'TBA':priceHtml(p.price,p.original_price)}</div>
          <div class="pc-stock">${p.coming_soon?'Coming Soon':p.stock>100?'In Stock':p.stock>0?p.stock+' left':'Out of Stock'}</div>
        </div>
      </div>
    </div>`).join('');
}

// ‚îÄ‚îÄ PRODUCT DETAIL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function openDetail(id){
  selectedVariant=null;appliedCoupon=null;
  document.getElementById('couponInput').value='';
  document.getElementById('couponStatus').style.display='none';
  document.getElementById('finalPriceRow').style.display='none';
  document.getElementById('detailDiscordUser').value='';

  try{
    const res=await fetch(`${API}/products/${id}`);
    const p=await res.json();
    currentProduct=p;

    // Image
    const imgEl=document.getElementById('detailImg');
    imgEl.innerHTML=p.image?`<img src="${p.image}" alt="${p.name}">`:`<div class="detail-img-placeholder">NML</div>`;

    document.getElementById('detailCat').textContent=p.category||'Digital';
    document.getElementById('detailViews').textContent=`üëÅ ${(p.views||0)+1} views`;
    document.getElementById('detailName').textContent=p.name;
    document.getElementById('detailPrice').innerHTML=priceHtml(p.price,p.original_price);
    document.getElementById('detailDesc').textContent=p.description||'';

    // Variants
    const varSec=document.getElementById('variantsSection');
    const varGrid=document.getElementById('variantsGrid');
    if(p.variants&&p.variants.length){
      varSec.style.display='block';
      varGrid.innerHTML=p.variants.map(v=>`
        <div class="variant-row" id="vrow-${v.id}" onclick="selectVariant(${JSON.stringify(v).replace(/"/g,'&quot;')})">
          <div>
            <div class="variant-name">${v.name}</div>
            <span class="variant-stock">${v.stock>0?v.stock+' left':'Out of Stock'}</span>
          </div>
          <div>
            ${v.original_price?`<span class="variant-orig">$${parseFloat(v.original_price).toFixed(2)}</span>`:''}
            <span class="variant-price">$${parseFloat(v.price).toFixed(2)}</span>
          </div>
        </div>`).join('');
    } else {
      varSec.style.display='none';
    }

    openModal('detailOverlay');

    // Reload products in background to update view count
    setTimeout(loadProducts, 1500);
  }catch(e){toast('Failed to load product',true)}
}

function selectVariant(v){
  selectedVariant=v;
  document.querySelectorAll('.variant-row').forEach(r=>r.classList.remove('selected'));
  document.getElementById('vrow-'+v.id)?.classList.add('selected');
  document.getElementById('detailPrice').innerHTML=priceHtml(v.price,v.original_price);
  appliedCoupon=null;
  document.getElementById('couponInput').value='';
  document.getElementById('couponStatus').style.display='none';
  document.getElementById('finalPriceRow').style.display='none';
}

async function applyCoupon(){
  const code=document.getElementById('couponInput').value.trim();
  const statusEl=document.getElementById('couponStatus');
  const finalRow=document.getElementById('finalPriceRow');
  if(!code){statusEl.textContent='Enter a coupon code';statusEl.className='coupon-status err';statusEl.style.display='block';return}

  const basePrice=selectedVariant?selectedVariant.price:currentProduct?.price||0;
  try{
    const res=await fetch(`${API}/coupons/validate`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({code,price:basePrice})});
    const data=await res.json();
    if(res.ok){
      appliedCoupon=data;
      statusEl.textContent=`‚úì ${data.discount_percent}% off applied!`;
      statusEl.className='coupon-status ok';
      statusEl.style.display='block';
      document.getElementById('finalPriceVal').textContent=`$${parseFloat(data.final_price).toFixed(2)}`;
      finalRow.style.display='flex';
    }else{
      appliedCoupon=null;
      statusEl.textContent=data.error||'Invalid coupon';
      statusEl.className='coupon-status err';
      statusEl.style.display='block';
      finalRow.style.display='none';
    }
  }catch(e){statusEl.textContent='Error checking coupon';statusEl.className='coupon-status err';statusEl.style.display='block'}
}

async function submitDetailInquiry(){
  if(!currentProduct)return;
  if(currentProduct.variants?.length&&!selectedVariant){toast('Please select a variant first',true);return}
  const username=document.getElementById('detailDiscordUser').value.trim();
  const basePrice=selectedVariant?selectedVariant.price:currentProduct.price;
  const finalPrice=appliedCoupon?appliedCoupon.final_price:basePrice;

  try{
    await fetch(`${API}/inquiries`,{
      method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        product_id:currentProduct.id,
        product_name:currentProduct.name,
        product_price:basePrice,
        variant_name:selectedVariant?.name||null,
        discord_username:username||'Not provided',
        coupon_code:appliedCoupon?.code||null,
        discount_amount:appliedCoupon?appliedCoupon.discount_amount:0,
        final_price:finalPrice
      })
    });
  }catch(e){console.error(e)}

  window.open('https://discord.gg/yRDud7tW','_blank');
  closeModal('detailOverlay');
  toast('Opening Discord ‚Äî complete your purchase there!');
}

// ‚îÄ‚îÄ WAITLIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let waitlistProduct=null;
function openWaitlist(product){
  waitlistProduct=product;
  document.getElementById('waitlistProductName').textContent=product.name;
  document.getElementById('waitlistDiscord').value='';
  openModal('waitlistOverlay');
}

async function submitWaitlist(){
  const username=document.getElementById('waitlistDiscord').value.trim();
  if(!username){toast('Enter your Discord username',true);return}
  if(!waitlistProduct)return;
  try{
    await fetch(`${API}/waitlist`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({product_id:waitlistProduct.id,product_name:waitlistProduct.name,discord_username:username})});
    toast("You're on the waitlist! We'll DM you when it drops üî•");
    closeModal('waitlistOverlay');
  }catch(e){toast('Error joining waitlist',true)}
}

// ‚îÄ‚îÄ AUTH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openLogin(){openModal('loginOverlay');setTimeout(()=>document.getElementById('loginPassword').focus(),100)}
async function doLogin(){
  const pw=document.getElementById('loginPassword').value;
  const errEl=document.getElementById('loginError');
  const btn=document.getElementById('loginBtn');
  errEl.style.display='none';btn.textContent='Checking...';btn.disabled=true;
  try{
    const res=await fetch(`${API}/admin/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:pw})});
    const data=await res.json();
    if(res.ok){adminToken=data.token;sessionStorage.setItem('nml_token',adminToken);closeModal('loginOverlay');document.getElementById('loginPassword').value='';openAdminPanel();toast('Welcome back üî´')}
    else{errEl.style.display='block'}
  }catch(e){errEl.textContent='Cannot reach server.';errEl.style.display='block'}
  btn.textContent='Enter';btn.disabled=false;
}
function adminLogout(){adminToken=null;sessionStorage.removeItem('nml_token');closeModal('adminOverlay');toast('Logged out')}

// ‚îÄ‚îÄ ADMIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function openAdminPanel(){
  openModal('adminOverlay');
  const res=await fetch(`${API}/products`);
  const products=await res.json();
  renderAdminList(products);
}

function switchTab(name){
  const tabs=['products','orders','coupons','waitlist','announce'];
  document.querySelectorAll('.admin-tab').forEach((t,i)=>t.classList.toggle('active',tabs[i]===name));
  document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
  document.getElementById('tab-'+name).classList.add('active');
  if(name==='orders')loadInquiries();
  if(name==='coupons')loadCoupons();
  if(name==='waitlist')loadWaitlist();
}

function renderAdminList(products){
  const list=document.getElementById('adminProdList');
  if(!products.length){list.innerHTML=`<div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);padding:12px">No products yet</div>`;return}
  list.innerHTML=products.map(p=>`
    <div class="prod-item" onclick="loadEditForm(${JSON.stringify(p).replace(/"/g,'&quot;')})">
      ${p.image?`<img class="prod-item-img" src="${p.image}" alt="${p.name}">`:`<div class="prod-item-img" style="display:flex;align-items:center;justify-content:center;font-size:16px">üì¶</div>`}
      <div><div class="prod-item-name">${p.name}</div><div class="prod-item-cat">${p.category||'Digital'}${p.variants?.length?' ¬∑ '+p.variants.length+' variants':''}</div></div>
      <div class="prod-item-price">${p.coming_soon?'TBA':'$'+parseFloat(p.price).toFixed(2)}</div>
    </div>`).join('');
}

// VARIANTS EDITOR
function addVariantRow(v={}){
  const idx=variantRows.length;
  variantRows.push(v);
  const editor=document.getElementById('variantsEditor');
  const row=document.createElement('div');
  row.className='variant-edit-row';
  row.id='vr-'+idx;
  row.innerHTML=`
    <input type="text" placeholder="e.g. 1 Month" value="${v.name||''}" oninput="variantRows[${idx}].name=this.value">
    <input type="number" placeholder="Price" step="0.01" value="${v.price||''}" oninput="variantRows[${idx}].price=this.value">
    <input type="number" placeholder="Orig $" step="0.01" value="${v.original_price||''}" oninput="variantRows[${idx}].original_price=this.value">
    <input type="number" placeholder="Stock" value="${v.stock||999}" oninput="variantRows[${idx}].stock=this.value">
    <button class="btn-rm-variant" onclick="removeVariantRow(${idx})">‚úï</button>`;
  editor.appendChild(row);
}

function removeVariantRow(idx){
  document.getElementById('vr-'+idx)?.remove();
  variantRows[idx]=null;
}

function resetForm(){
  document.getElementById('editId').value='';
  document.getElementById('fName').value='';
  document.getElementById('fPrice').value='';
  document.getElementById('fOriginalPrice').value='';
  document.getElementById('fDesc').value='';
  document.getElementById('fCategory').value='Accounts';
  document.getElementById('fBadge').value='';
  document.getElementById('fStock').value='';
  document.getElementById('fFeatured').checked=false;
  document.getElementById('fComingSoon').checked=false;
  document.getElementById('fImage').value='';
  document.getElementById('imgPreview').style.display='none';
  document.getElementById('formTitle').textContent='Create New Product';
  document.getElementById('saveBtn').textContent='Save Product';
  document.getElementById('deleteBtn').style.display='none';
  document.getElementById('variantsEditor').innerHTML='';
  variantRows=[];
}

function loadEditForm(p){
  document.getElementById('editId').value=p.id;
  document.getElementById('fName').value=p.name;
  document.getElementById('fPrice').value=p.price;
  document.getElementById('fOriginalPrice').value=p.original_price||'';
  document.getElementById('fDesc').value=p.description||'';
  document.getElementById('fCategory').value=p.category||'Accounts';
  document.getElementById('fBadge').value=p.badge||'';
  document.getElementById('fStock').value=p.stock||999;
  document.getElementById('fFeatured').checked=p.featured||false;
  document.getElementById('fComingSoon').checked=p.coming_soon||false;
  document.getElementById('formTitle').textContent='Editing: '+p.name;
  document.getElementById('saveBtn').textContent='Update Product';
  document.getElementById('deleteBtn').style.display='block';
  if(p.image){const prev=document.getElementById('imgPreview');prev.src=p.image;prev.style.display='block'}
  else{document.getElementById('imgPreview').style.display='none'}
  // Load variants
  document.getElementById('variantsEditor').innerHTML='';
  variantRows=[];
  if(p.variants?.length) p.variants.forEach(v=>addVariantRow(v));
  document.getElementById('adminOverlay').scrollTop=0;
}

function previewImage(e){
  const file=e.target.files[0];if(!file)return;
  const reader=new FileReader();
  reader.onload=ev=>{const prev=document.getElementById('imgPreview');prev.src=ev.target.result;prev.style.display='block'};
  reader.readAsDataURL(file);
}

async function saveProduct(){
  const id=document.getElementById('editId').value;
  const name=document.getElementById('fName').value.trim();
  const price=document.getElementById('fPrice').value;
  if(!name||!price){toast('Name and price required',true);return}
  const btn=document.getElementById('saveBtn');btn.textContent='Saving...';btn.disabled=true;

  const fd=new FormData();
  fd.append('name',name);fd.append('price',price);
  fd.append('original_price',document.getElementById('fOriginalPrice').value||'');
  fd.append('description',document.getElementById('fDesc').value);
  fd.append('category',document.getElementById('fCategory').value);
  fd.append('badge',document.getElementById('fBadge').value);
  fd.append('stock',document.getElementById('fStock').value||999);
  fd.append('featured',document.getElementById('fFeatured').checked);
  fd.append('coming_soon',document.getElementById('fComingSoon').checked);

  const validVariants=variantRows.filter(v=>v&&v.name&&v.price);
  if(validVariants.length) fd.append('variants',JSON.stringify(validVariants));
  else fd.append('variants',JSON.stringify([]));

  const imgFile=document.getElementById('fImage').files[0];
  if(imgFile)fd.append('image',imgFile);

  try{
    const url=id?`${API}/products/${id}`:`${API}/products`;
    const res=await fetch(url,{method:id?'PUT':'POST',headers:{'Authorization':'Bearer '+adminToken},body:fd});
    if(res.ok){toast(id?'Updated!':'Created! üî•');resetForm();loadProducts()}
    else{const err=await res.json();toast(err.error||'Error',true)}
  }catch(e){toast('Server error',true)}
  btn.textContent=id?'Update Product':'Save Product';btn.disabled=false;
}

async function deleteProduct(){
  const id=document.getElementById('editId').value;if(!id)return;
  if(!confirm('Delete this product?'))return;
  try{
    const res=await fetch(`${API}/products/${id}`,{method:'DELETE',headers:{'Authorization':'Bearer '+adminToken}});
    if(res.ok){toast('Deleted');resetForm();loadProducts()}else toast('Failed',true);
  }catch(e){toast('Error',true)}
}

// ‚îÄ‚îÄ ORDERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadInquiries(){
  const c=document.getElementById('inquiryContainer');
  c.innerHTML='<div class="inq-empty">Loading...</div>';
  try{
    const res=await fetch(`${API}/inquiries`,{headers:{'Authorization':'Bearer '+adminToken}});
    const data=await res.json();
    if(!data.length){c.innerHTML='<div class="inq-empty">No orders yet</div>';return}
    c.innerHTML=`<table class="inq-table"><thead><tr><th>Product</th><th>Variant</th><th>Price</th><th>Coupon</th><th>Discord</th><th>Date</th><th>Status</th></tr></thead><tbody>
    ${data.map(inq=>`<tr>
      <td><div class="inq-product">${inq.product_name}</div></td>
      <td>${inq.variant_name||'‚Äî'}</td>
      <td><div class="inq-price">$${parseFloat(inq.final_price||0).toFixed(2)}</div></td>
      <td>${inq.coupon_code?`<span style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--accent)">${inq.coupon_code}</span>`:'‚Äî'}</td>
      <td><div class="inq-user">${inq.discord_username||'‚Äî'}</div></td>
      <td><div class="inq-date">${new Date(inq.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})}</div></td>
      <td><button class="status-badge status-${inq.status||'pending'}" onclick="cycleStatus('${inq.id}','${inq.status||'pending'}')">${inq.status||'pending'}</button></td>
    </tr>`).join('')}
    </tbody></table>`;
  }catch(e){c.innerHTML='<div class="inq-empty">Error loading</div>'}
}

async function cycleStatus(id,current){
  const next={pending:'done',done:'cancelled',cancelled:'pending'}[current]||'pending';
  try{await fetch(`${API}/inquiries/${id}`,{method:'PATCH',headers:{'Authorization':'Bearer '+adminToken,'Content-Type':'application/json'},body:JSON.stringify({status:next})});loadInquiries()}
  catch(e){toast('Failed',true)}
}

// ‚îÄ‚îÄ COUPONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadCoupons(){
  const c=document.getElementById('couponList');
  c.innerHTML='<div class="inq-empty">Loading...</div>';
  try{
    const res=await fetch(`${API}/coupons`,{headers:{'Authorization':'Bearer '+adminToken}});
    const data=await res.json();
    if(!data.length){c.innerHTML='<div class="inq-empty">No coupons yet</div>';return}
    c.innerHTML=`<table class="coupon-table"><thead><tr><th>Code</th><th>Discount</th><th>Uses</th><th>Max Uses</th><th>Active</th><th></th></tr></thead><tbody>
    ${data.map(cp=>`<tr>
      <td><span class="coupon-code">${cp.code}</span></td>
      <td>${cp.discount_percent}%</td>
      <td>${cp.uses}</td>
      <td>${cp.max_uses||'‚àû'}</td>
      <td>${cp.active?'‚úÖ':'‚ùå'}</td>
      <td><button class="btn-coupon-del" onclick="deleteCoupon('${cp.id}')">üóë</button></td>
    </tr>`).join('')}
    </tbody></table>`;
  }catch(e){c.innerHTML='<div class="inq-empty">Error</div>'}
}

async function createCoupon(){
  const code=document.getElementById('cCode').value.trim();
  const percent=document.getElementById('cPercent').value;
  const maxUses=document.getElementById('cMaxUses').value||0;
  if(!code||!percent){toast('Code and percent required',true);return}
  try{
    const res=await fetch(`${API}/coupons`,{method:'POST',headers:{'Authorization':'Bearer '+adminToken,'Content-Type':'application/json'},body:JSON.stringify({code,discount_percent:parseFloat(percent),max_uses:parseInt(maxUses)})});
    if(res.ok){toast(`Coupon ${code} created!`);document.getElementById('cCode').value='';document.getElementById('cPercent').value='';loadCoupons()}
    else{const err=await res.json();toast(err.error||'Error',true)}
  }catch(e){toast('Error',true)}
}

async function deleteCoupon(id){
  if(!confirm('Delete this coupon?'))return;
  try{await fetch(`${API}/coupons/${id}`,{method:'DELETE',headers:{'Authorization':'Bearer '+adminToken}});loadCoupons()}
  catch(e){toast('Error',true)}
}

// ‚îÄ‚îÄ WAITLIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadWaitlist(){
  const c=document.getElementById('waitlistContainer');
  c.innerHTML='<div class="inq-empty">Loading...</div>';
  try{
    const res=await fetch(`${API}/waitlist`,{headers:{'Authorization':'Bearer '+adminToken}});
    const data=await res.json();
    if(!data.length){c.innerHTML='<div class="inq-empty">No waitlist entries yet</div>';return}
    c.innerHTML=`<table class="waitlist-table"><thead><tr><th>Product</th><th>Discord</th><th>Date</th></tr></thead><tbody>
    ${data.map(w=>`<tr>
      <td>${w.product_name}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--accent3)">${w.discord_username}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted)">${new Date(w.created_at).toLocaleDateString()}</td>
    </tr>`).join('')}
    </tbody></table>`;
  }catch(e){c.innerHTML='<div class="inq-empty">Error</div>'}
}

// ‚îÄ‚îÄ ANNOUNCE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function postAnnouncement(){
  const message=document.getElementById('aMessage').value.trim();
  const color=document.getElementById('aColor').value;
  if(!message){toast('Enter a message',true);return}
  try{
    await fetch(`${API}/announcements`,{method:'POST',headers:{'Authorization':'Bearer '+adminToken,'Content-Type':'application/json'},body:JSON.stringify({message,color})});
    toast('Banner posted!');loadAnnouncement();
  }catch(e){toast('Error',true)}
}

async function clearAnnouncement(){
  try{
    await fetch(`${API}/announcements`,{method:'DELETE',headers:{'Authorization':'Bearer '+adminToken}});
    dismissBanner();toast('Banner cleared');
  }catch(e){toast('Error',true)}
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
loadProducts();
loadAnnouncement();
</script>
</body>
</html>
