<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NO MAN'S LAND ‚Äî Digital Store</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Share+Tech+Mono&family=Barlow:ital,wght@0,300;0,400;0,600;0,700;1,300&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#03050a;--surface:#070d16;--surface2:#0a1422;
  --border:#0e2030;--border2:#1a3a50;
  --accent:#e8c547;--accent2:#ff4040;--accent3:#00b8d4;
  --text:#d0e4ef;--muted:#3a5a6e;--muted2:#5a7a8e;
  --gy:0 0 24px rgba(232,197,71,.35);--gr:0 0 24px rgba(255,64,64,.35);--gb:0 0 24px rgba(0,184,212,.35);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Barlow',sans-serif;overflow-x:hidden;min-height:100vh;cursor:none}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--accent)}
body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");pointer-events:none;z-index:9998;opacity:.5}
body::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.06) 2px,rgba(0,0,0,.06) 4px);pointer-events:none;z-index:9997}

.cur{position:fixed;pointer-events:none;z-index:9999;transform:translate(-50%,-50%)}
.cur-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;box-shadow:var(--gy);transition:transform .15s}
.cur-ring{width:32px;height:32px;border:1px solid rgba(232,197,71,.35);border-radius:50%;transition:width .3s,height .3s}

nav{position:fixed;top:0;left:0;right:0;z-index:500;display:flex;align-items:center;justify-content:space-between;padding:0 48px;height:64px;background:linear-gradient(180deg,rgba(3,5,10,.98),rgba(3,5,10,.6));border-bottom:1px solid rgba(232,197,71,.08);backdrop-filter:blur(12px)}
.logo{font-family:'Bebas Neue',sans-serif;font-size:24px;letter-spacing:8px;color:var(--accent);text-shadow:var(--gy);text-decoration:none;position:relative}
.logo::after{content:'NO MAN\'S LAND';position:absolute;inset:0;color:var(--accent);filter:blur(6px);opacity:.3}
.nav-right{display:flex;align-items:center;gap:20px}
.nav-btn{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-transform:uppercase;text-decoration:none;color:var(--muted2);background:none;border:none;cursor:pointer;transition:color .2s;padding:4px 0;position:relative}
.nav-btn::after{content:'';position:absolute;bottom:-2px;left:0;right:100%;height:1px;background:var(--accent);transition:right .3s}
.nav-btn:hover{color:var(--accent)}.nav-btn:hover::after{right:0}
.nav-discord{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--bg);background:var(--accent);border:none;padding:8px 20px;clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);cursor:pointer;text-transform:uppercase;text-decoration:none;display:inline-block;transition:background .2s;font-weight:700}
.nav-discord:hover{background:#f5d060;box-shadow:var(--gy)}

/* HERO */
.hero{min-height:100vh;display:flex;align-items:center;padding:80px 48px 60px;position:relative;overflow:hidden}
.hero-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(232,197,71,.025) 1px,transparent 1px),linear-gradient(90deg,rgba(232,197,71,.025) 1px,transparent 1px);background-size:80px 80px;animation:gridDrift 25s linear infinite}
@keyframes gridDrift{to{transform:translateY(80px)}}
.hero-vignette{position:absolute;inset:0;background:radial-gradient(ellipse at 30% 50%,transparent 40%,rgba(3,5,10,.9) 100%)}
.hero-gfx{position:absolute;right:0;top:0;bottom:0;width:55%;overflow:hidden}
.hero-gfx-inner{position:absolute;inset:0;background:radial-gradient(ellipse at 60% 40%,rgba(232,197,71,.06) 0%,transparent 50%),radial-gradient(ellipse at 80% 70%,rgba(0,184,212,.04) 0%,transparent 50%)}
.hero-content{position:relative;z-index:2;max-width:640px}
.hero-eyebrow{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:5px;color:var(--accent);text-transform:uppercase;margin-bottom:28px;display:flex;align-items:center;gap:16px;animation:fadeUp .6s ease both}
.hero-eyebrow::before{content:'';width:32px;height:1px;background:var(--accent);box-shadow:var(--gy)}
.hero-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(80px,13vw,160px);line-height:.88;letter-spacing:3px;margin-bottom:32px;animation:fadeUp .6s .08s ease both}
.t1{display:block;color:var(--text)}.t2{display:block;color:var(--accent);text-shadow:var(--gy);position:relative}
.t2::before{content:attr(data-t);position:absolute;inset:0;color:var(--accent2);clip-path:polygon(0 40%,100% 40%,100% 60%,0 60%);transform:translateX(4px);opacity:0;animation:glitch 5s infinite 2s}
@keyframes glitch{0%,92%,100%{opacity:0;transform:translateX(0)}93%{opacity:.7;transform:translateX(5px)}94%{opacity:.7;transform:translateX(-5px)}95%{opacity:.3;transform:translateX(3px)}}
.t3{display:block;color:var(--muted)}
.hero-desc{font-size:17px;font-weight:300;color:var(--muted2);max-width:440px;line-height:1.65;margin-bottom:48px;animation:fadeUp .6s .16s ease both}
.hero-desc strong{color:var(--text);font-weight:600}
.hero-actions{display:flex;gap:14px;animation:fadeUp .6s .24s ease both}
.btn{font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;text-decoration:none;display:inline-block;padding:14px 36px;cursor:pointer;border:none;transition:all .25s}
.btn-primary{color:var(--bg);background:var(--accent);clip-path:polygon(10px 0%,100% 0%,calc(100% - 10px) 100%,0% 100%);font-weight:700}
.btn-primary:hover{background:#f5d060;box-shadow:var(--gy);transform:translateY(-2px)}
.btn-ghost{color:var(--accent);background:transparent;border:1px solid rgba(232,197,71,.25)}
.btn-ghost:hover{border-color:var(--accent);background:rgba(232,197,71,.05);box-shadow:var(--gy)}
.hero-stats{position:absolute;right:80px;bottom:80px;z-index:2;display:flex;flex-direction:column;gap:28px;animation:fadeUp .8s .4s ease both}
.stat{text-align:right;border-right:2px solid var(--accent);padding-right:16px;position:relative}
.stat::before{content:'';position:absolute;right:-5px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:var(--accent);border-radius:50%;box-shadow:var(--gy)}
.stat-n{font-family:'Bebas Neue',sans-serif;font-size:38px;color:var(--accent);line-height:1;text-shadow:var(--gy)}
.stat-l{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}

/* TICKER */
.ticker{background:var(--accent);overflow:hidden;padding:8px 0;position:relative;z-index:10}
.ticker-track{display:flex;animation:tickScroll 30s linear infinite;white-space:nowrap}
.ticker-item{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:4px;color:var(--bg);text-transform:uppercase;padding:0 36px;font-weight:700}
@keyframes tickScroll{to{transform:translateX(-50%)}}

/* SEARCH BAR */
.search-bar{background:var(--surface);border-bottom:1px solid var(--border);padding:24px 48px;display:flex;align-items:center;gap:16px;flex-wrap:wrap}
.search-input-wrap{flex:1;min-width:200px;position:relative}
.search-input{width:100%;background:var(--bg);border:1px solid var(--border2);color:var(--text);font-family:'Share Tech Mono',monospace;font-size:12px;padding:11px 16px 11px 40px;outline:none;transition:border-color .2s;letter-spacing:2px}
.search-input:focus{border-color:var(--accent)}
.search-input::placeholder{color:var(--muted)}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px;pointer-events:none}
.cat-filters{display:flex;gap:8px;flex-wrap:wrap}
.cat-filter{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;text-transform:uppercase;padding:8px 16px;background:transparent;border:1px solid var(--border2);color:var(--muted2);cursor:pointer;transition:all .2s}
.cat-filter:hover,.cat-filter.active{border-color:var(--accent);color:var(--accent);background:rgba(232,197,71,.05)}
.sort-select{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;padding:9px 14px;background:var(--bg);border:1px solid var(--border2);color:var(--muted2);cursor:pointer;outline:none;transition:border-color .2s}
.sort-select:focus{border-color:var(--accent)}

/* SECTION */
.section{padding:80px 48px}
.sec-head{margin-bottom:48px}
.sec-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:5px;color:var(--accent);text-transform:uppercase;margin-bottom:10px;display:flex;align-items:center;gap:10px}
.sec-label::before{content:'//';color:var(--muted)}
.sec-title{font-family:'Bebas Neue',sans-serif;font-size:52px;letter-spacing:3px;line-height:1}
.sec-head-row{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:48px}

/* FEATURED BANNER */
.featured-banner{background:linear-gradient(135deg,rgba(232,197,71,.08),rgba(0,184,212,.04));border:1px solid rgba(232,197,71,.2);padding:4px 16px;margin-bottom:2px;display:flex;align-items:center;gap:10px}
.featured-label{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:4px;color:var(--accent);text-transform:uppercase}

/* PRODUCTS GRID */
#products-section{background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2px}

.product-card{background:var(--bg);border:1px solid var(--border);overflow:hidden;position:relative;cursor:pointer;transition:border-color .3s,transform .3s}
.product-card.featured-card{border-color:rgba(232,197,71,.2)}
.product-card:hover{border-color:rgba(232,197,71,.4);transform:translateY(-4px);z-index:2}
.product-card:hover .pc-overlay{opacity:1}
.product-card:hover .pc-buy{transform:translateY(0);opacity:1}
.product-card.coming-soon-card{opacity:.7;cursor:default}
.product-card.coming-soon-card:hover{transform:none;border-color:rgba(0,184,212,.3)}

.pc-img{height:220px;position:relative;overflow:hidden;background:var(--surface2);display:flex;align-items:center;justify-content:center}
.pc-img img{width:100%;height:100%;object-fit:cover;display:block}
.pc-img-placeholder{font-size:64px;opacity:.12;font-family:'Bebas Neue',sans-serif;letter-spacing:4px;color:var(--accent);user-select:none}
.pc-overlay{position:absolute;inset:0;background:linear-gradient(135deg,rgba(232,197,71,.08),rgba(0,184,212,.05));opacity:0;transition:opacity .3s}
.pc-badge{position:absolute;top:14px;left:14px;font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;padding:3px 10px;text-transform:uppercase;clip-path:polygon(5px 0%,100% 0%,calc(100% - 5px) 100%,0% 100%)}
.badge-new{background:var(--accent3);color:var(--bg)}.badge-hot{background:var(--accent2);color:#fff}.badge-sale{background:var(--accent);color:var(--bg)}.badge-limited{background:#7b00ff;color:#fff}.badge-soon{background:var(--muted);color:var(--bg)}
.pc-featured-star{position:absolute;top:14px;right:14px;color:var(--accent);font-size:16px;text-shadow:var(--gy)}
.pc-buy{position:absolute;bottom:0;left:0;right:0;background:rgba(232,197,71,.92);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-align:center;padding:11px;text-transform:uppercase;font-weight:700;transform:translateY(100%);opacity:0;transition:transform .3s,opacity .3s}
.pc-lock{position:absolute;bottom:0;left:0;right:0;background:rgba(0,184,212,.15);color:var(--accent3);font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;text-align:center;padding:10px;text-transform:uppercase;border-top:1px solid rgba(0,184,212,.2)}

.pc-body{padding:20px 22px 22px;border-top:1px solid var(--border)}
.pc-cat{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--accent);text-transform:uppercase;margin-bottom:6px}
.pc-name{font-size:17px;font-weight:700;color:var(--text);margin-bottom:8px;line-height:1.3}
.pc-desc{font-size:13px;font-weight:300;color:var(--muted2);margin-bottom:12px;line-height:1.5}
.pc-foot{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.pc-price{font-family:'Bebas Neue',sans-serif;font-size:30px;color:var(--accent);letter-spacing:2px;text-shadow:var(--gy)}
.pc-stock-badge{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;text-transform:uppercase;padding:3px 8px}
.stock-ok{color:var(--accent3);border:1px solid rgba(0,184,212,.3)}
.stock-low{color:var(--accent2);border:1px solid rgba(255,64,64,.3)}
.stock-out{color:var(--muted);border:1px solid var(--border)}
.stock-unlimited{color:var(--muted2);border:1px solid var(--border)}
.pc-stars{font-size:11px;color:#ffcc00;letter-spacing:-2px}
.pc-rating-row{display:flex;align-items:center;gap:6px}
.pc-rating-count{font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--muted);letter-spacing:1px}

.empty-state{grid-column:1/-1;text-align:center;padding:80px 20px;font-family:'Share Tech Mono',monospace;font-size:12px;letter-spacing:3px;color:var(--muted);text-transform:uppercase}

.loading-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2px}
.skeleton{background:var(--surface2);border:1px solid var(--border);overflow:hidden;position:relative}
.skeleton::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(232,197,71,.03),transparent);animation:shimmer 1.5s infinite}
@keyframes shimmer{from{transform:translateX(-100%)}to{transform:translateX(100%)}}
.skel-img{height:220px}.skel-body{padding:20px}
.skel-line{height:12px;background:var(--border2);border-radius:2px;margin-bottom:10px}.skel-line.short{width:60%}

/* TRUST STRIP */
.trust{background:var(--bg);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.trust-grid{display:grid;grid-template-columns:repeat(4,1fr)}
.trust-item{padding:48px 36px;border-right:1px solid var(--border);position:relative;overflow:hidden;transition:background .3s}
.trust-item:last-child{border-right:none}.trust-item:hover{background:rgba(232,197,71,.02)}
.trust-num{position:absolute;top:-10px;right:-5px;font-family:'Bebas Neue',sans-serif;font-size:100px;color:var(--accent);opacity:.025;line-height:1;pointer-events:none;transition:opacity .3s}
.trust-item:hover .trust-num{opacity:.05}
.trust-icon{font-size:26px;margin-bottom:16px;display:block}
.trust-title{font-family:'Bebas Neue',sans-serif;font-size:22px;letter-spacing:2px;color:var(--text);margin-bottom:10px}
.trust-desc{font-size:13px;font-weight:300;color:var(--muted2);line-height:1.6}

/* CTA */
.cta-section{padding:100px 48px;text-align:center;position:relative;overflow:hidden}
.cta-bg{position:absolute;inset:0;background:radial-gradient(ellipse at 50% 50%,rgba(232,197,71,.04) 0%,transparent 60%)}
.cta-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,8vw,96px);letter-spacing:4px;margin-bottom:20px;position:relative;z-index:2}
.cta-title span{color:var(--accent);text-shadow:var(--gy)}
.cta-sub{font-size:15px;color:var(--muted2);max-width:460px;margin:0 auto 40px;line-height:1.65;position:relative;z-index:2}
.cta-btns{display:flex;justify-content:center;gap:14px;position:relative;z-index:2}

footer{border-top:1px solid var(--border);padding:36px 48px;display:flex;align-items:center;justify-content:space-between}
.foot-logo{font-family:'Bebas Neue',sans-serif;font-size:20px;letter-spacing:6px;color:var(--muted)}
.foot-copy{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.foot-links{display:flex;gap:20px}
.foot-links a{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-decoration:none;text-transform:uppercase;transition:color .2s;cursor:pointer}
.foot-links a:hover{color:var(--accent)}

/* ‚îÄ‚îÄ MODALS ‚îÄ‚îÄ */
.modal-overlay{position:fixed;inset:0;z-index:1000;background:rgba(3,5,10,.93);backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;padding:20px;overflow-y:auto}
.modal-overlay.open{display:flex}
@keyframes modalIn{from{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:16px;right:20px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);background:none;border:none;cursor:pointer;text-transform:uppercase;transition:color .2s;z-index:10}
.modal-close:hover{color:var(--accent2)}

/* BUY MODAL */
.buy-modal{background:var(--surface);border:1px solid rgba(232,197,71,.25);max-width:540px;width:100%;position:relative;clip-path:polygon(16px 0%,100% 0%,calc(100% - 16px) 100%,0% 100%);animation:modalIn .3s ease}
.modal-head{padding:32px 32px 24px;border-bottom:1px solid var(--border)}
.modal-eyebrow{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:4px;color:var(--accent);text-transform:uppercase;margin-bottom:8px}
.modal-name{font-family:'Bebas Neue',sans-serif;font-size:32px;letter-spacing:2px;color:var(--text);line-height:1}
.modal-price{font-family:'Bebas Neue',sans-serif;font-size:22px;color:var(--accent);margin-top:4px;text-shadow:var(--gy)}
.modal-original{font-size:14px;color:var(--muted);text-decoration:line-through;margin-right:8px}
.modal-body{padding:24px 32px 32px}
.modal-desc{font-size:14px;font-weight:300;color:var(--muted2);line-height:1.65;margin-bottom:20px}

/* Order form */
.order-form{margin-bottom:20px}
.form-group{margin-bottom:14px}
.form-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted2);text-transform:uppercase;display:block;margin-bottom:6px}
.form-input{width:100%;background:var(--bg);border:1px solid var(--border2);color:var(--text);font-family:'Barlow',sans-serif;font-size:14px;padding:10px 14px;outline:none;transition:border-color .2s}
.form-input:focus{border-color:var(--accent)}
.form-input::placeholder{color:var(--muted)}
textarea.form-input{resize:vertical;min-height:60px}
select.form-input{cursor:pointer}

.coupon-row{display:flex;gap:8px}
.coupon-row .form-input{flex:1}
.btn-apply{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;background:transparent;color:var(--accent);border:1px solid rgba(232,197,71,.3);padding:10px 16px;cursor:pointer;transition:all .2s;white-space:nowrap}
.btn-apply:hover{background:rgba(232,197,71,.08);border-color:var(--accent)}
.coupon-result{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;padding:8px 0;display:none}
.coupon-ok{color:var(--accent3)}.coupon-err{color:var(--accent2)}

.price-summary{background:var(--bg);border:1px solid var(--border);padding:16px;margin-bottom:20px}
.price-row{display:flex;justify-content:space-between;margin-bottom:6px;font-size:13px;color:var(--muted2)}
.price-row:last-child{margin-bottom:0;color:var(--text);font-weight:700;font-size:15px;padding-top:8px;border-top:1px solid var(--border)}
.price-row span:last-child{font-family:'Bebas Neue',sans-serif;font-size:18px;color:var(--accent)}

.modal-contact{background:var(--bg);border:1px solid var(--border);padding:16px;margin-bottom:20px}
.modal-contact-label{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;margin-bottom:8px}
.modal-discord-tag{font-family:'Share Tech Mono',monospace;font-size:13px;color:var(--accent);letter-spacing:1px}

.modal-actions{display:flex;flex-direction:column;gap:10px}
.btn-discord{display:flex;align-items:center;justify-content:center;gap:10px;background:#5865F2;color:#fff;font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;text-decoration:none;padding:14px;border:none;cursor:pointer;transition:background .2s;font-weight:700}
.btn-discord:hover{background:#4752c4}
.btn-cancel{background:transparent;color:var(--muted);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-transform:uppercase;border:1px solid var(--border);padding:12px;cursor:pointer;transition:all .2s}
.btn-cancel:hover{color:var(--accent2);border-color:rgba(255,64,64,.3)}

/* REVIEWS IN MODAL */
.reviews-section{margin-top:24px;border-top:1px solid var(--border);padding-top:20px}
.reviews-title{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:var(--muted);text-transform:uppercase;margin-bottom:16px}
.review-item{background:var(--bg);border:1px solid var(--border);padding:14px;margin-bottom:8px}
.review-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.review-user{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:var(--text);text-transform:uppercase}
.review-stars{color:#ffcc00;font-size:12px;letter-spacing:-2px}
.review-comment{font-size:13px;font-weight:300;color:var(--muted2);line-height:1.5}
.review-date{font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--muted);margin-top:6px}
.no-reviews{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}

/* REVIEW FORM */
.review-form{background:var(--surface2);border:1px solid var(--border);padding:16px;margin-top:12px}
.review-form-title{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--accent);text-transform:uppercase;margin-bottom:14px}
.star-picker{display:flex;gap:6px;margin-bottom:14px}
.star-btn{background:none;border:none;font-size:24px;cursor:pointer;color:var(--border2);transition:color .15s;line-height:1;padding:0}
.star-btn.active,.star-btn:hover{color:#ffcc00}
.btn-review{width:100%;background:var(--accent);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;text-transform:uppercase;border:none;padding:12px;cursor:pointer;font-weight:700;transition:background .2s;margin-top:4px}
.btn-review:hover{background:#f5d060}

/* COMING SOON MODAL */
.coming-modal{background:var(--surface);border:1px solid rgba(0,184,212,.25);max-width:400px;width:100%;position:relative;clip-path:polygon(12px 0%,100% 0%,calc(100% - 12px) 100%,0% 100%);animation:modalIn .3s ease;text-align:center;padding:48px 40px}
.coming-icon{font-size:48px;margin-bottom:16px}
.coming-title{font-family:'Bebas Neue',sans-serif;font-size:40px;letter-spacing:3px;color:var(--accent3);margin-bottom:12px}
.coming-sub{font-size:14px;font-weight:300;color:var(--muted2);line-height:1.65;margin-bottom:28px}

/* LOGIN MODAL */
.login-modal{background:var(--surface);border:1px solid rgba(232,197,71,.2);max-width:400px;width:100%;clip-path:polygon(12px 0%,100% 0%,calc(100% - 12px) 100%,0% 100%);animation:modalIn .3s ease}
.login-head{padding:32px 32px 24px;border-bottom:1px solid var(--border)}
.login-title{font-family:'Bebas Neue',sans-serif;font-size:30px;letter-spacing:4px;color:var(--accent)}
.login-sub{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);margin-top:6px;text-transform:uppercase}
.login-body{padding:28px 32px 32px}
.login-error{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--accent2);text-transform:uppercase;margin-bottom:14px;display:none}

/* ADMIN MODAL */
.admin-modal{background:var(--surface);border:1px solid rgba(232,197,71,.15);width:100%;max-width:740px;max-height:92vh;overflow-y:auto;position:relative;animation:modalIn .3s ease}
.admin-modal::-webkit-scrollbar{width:3px}.admin-modal::-webkit-scrollbar-thumb{background:var(--accent)}
.admin-head{padding:24px 32px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:var(--surface);z-index:10}
.admin-title{font-family:'Bebas Neue',sans-serif;font-size:28px;letter-spacing:3px;color:var(--accent)}

/* ADMIN TABS */
.admin-tabs{display:flex;border-bottom:1px solid var(--border);background:var(--bg);position:sticky;top:68px;z-index:9}
.admin-tab{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;text-transform:uppercase;padding:14px 24px;background:none;border:none;color:var(--muted);cursor:pointer;transition:all .2s;border-bottom:2px solid transparent;margin-bottom:-1px;position:relative}
.admin-tab:hover{color:var(--text)}.admin-tab.active{color:var(--accent);border-bottom-color:var(--accent)}
.admin-tab .tab-badge{display:inline-block;background:var(--accent2);color:#fff;font-size:8px;padding:1px 5px;border-radius:8px;margin-left:6px;vertical-align:middle}

.admin-pane{display:none;padding:24px 32px}.admin-pane.active{display:block}
.admin-section-title{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:var(--muted);text-transform:uppercase;margin-bottom:18px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.form-group{margin-bottom:14px}
.img-upload-area{border:2px dashed var(--border2);padding:28px;text-align:center;cursor:pointer;transition:all .2s;position:relative}
.img-upload-area:hover{border-color:var(--accent);background:rgba(232,197,71,.02)}
.img-upload-area input{position:absolute;inset:0;opacity:0;cursor:pointer}
.img-upload-icon{font-size:24px;margin-bottom:6px}
.img-upload-text{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.img-preview{width:100%;max-height:140px;object-fit:cover;margin-top:10px;display:none}
.form-check{display:flex;align-items:center;gap:10px;cursor:pointer}
.form-check input{accent-color:var(--accent);width:16px;height:16px;cursor:pointer}
.form-check label{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:var(--muted2);text-transform:uppercase;cursor:pointer}
.form-actions{display:flex;gap:10px;padding-top:16px}
.btn-save{flex:1;background:var(--accent);color:var(--bg);font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;border:none;padding:13px;cursor:pointer;font-weight:700;clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);transition:background .2s}
.btn-save:hover{background:#f5d060}.btn-save:disabled{opacity:.5;cursor:not-allowed}
.btn-danger{background:transparent;color:var(--accent2);border:1px solid rgba(255,64,64,.3);padding:13px 20px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .2s}
.btn-danger:hover{background:rgba(255,64,64,.1);border-color:var(--accent2)}

/* PROD LIST */
.prod-list{display:flex;flex-direction:column;gap:2px;margin-bottom:20px}
.prod-item{display:flex;align-items:center;gap:14px;background:var(--bg);border:1px solid var(--border);padding:12px 16px;cursor:pointer;transition:border-color .2s}
.prod-item:hover{border-color:rgba(232,197,71,.3)}
.prod-item-img{width:44px;height:44px;object-fit:cover;flex-shrink:0;background:var(--surface2);display:flex;align-items:center;justify-content:center;font-size:18px}
.prod-item-name{font-size:14px;font-weight:600;color:var(--text)}
.prod-item-price{font-family:'Bebas Neue',sans-serif;font-size:18px;color:var(--accent);margin-left:auto;padding-left:12px}
.prod-item-cat{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-top:2px}
.prod-item-tags{display:flex;gap:6px;margin-top:4px}
.mini-tag{font-family:'Share Tech Mono',monospace;font-size:7px;letter-spacing:1px;padding:2px 6px;text-transform:uppercase}
.tag-featured{background:rgba(232,197,71,.15);color:var(--accent)}
.tag-soon{background:rgba(0,184,212,.15);color:var(--accent3)}

/* COUPON TABLE */
.data-table{width:100%;border-collapse:collapse;font-size:13px}
.data-table th{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:var(--muted);text-transform:uppercase;padding:8px 12px;text-align:left;border-bottom:1px solid var(--border)}
.data-table td{padding:10px 12px;border-bottom:1px solid rgba(14,32,48,.5);color:var(--text)}
.data-table tr:hover td{background:rgba(232,197,71,.02)}
.tag-active{color:var(--accent3);font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;text-transform:uppercase}
.tag-inactive{color:var(--muted);font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;text-transform:uppercase}
.btn-sm{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;text-transform:uppercase;padding:5px 10px;border:none;cursor:pointer;transition:all .2s}
.btn-sm-toggle{background:rgba(0,184,212,.1);color:var(--accent3);border:1px solid rgba(0,184,212,.2)}
.btn-sm-toggle:hover{background:rgba(0,184,212,.2)}
.btn-sm-del{background:rgba(255,64,64,.1);color:var(--accent2);border:1px solid rgba(255,64,64,.2)}
.btn-sm-del:hover{background:rgba(255,64,64,.2)}
.btn-sm-approve{background:rgba(232,197,71,.1);color:var(--accent);border:1px solid rgba(232,197,71,.2)}
.btn-sm-approve:hover{background:rgba(232,197,71,.2)}

/* ORDER ITEMS */
.order-item{background:var(--bg);border:1px solid var(--border);padding:16px;margin-bottom:6px}
.order-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;flex-wrap:wrap;gap:8px}
.order-id{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}
.order-status{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;text-transform:uppercase;padding:3px 10px}
.status-pending{background:rgba(232,197,71,.1);color:var(--accent)}
.status-completed{background:rgba(0,184,212,.1);color:var(--accent3)}
.status-cancelled{background:rgba(255,64,64,.1);color:var(--accent2)}
.order-fields{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;font-size:12px;color:var(--muted2)}
.order-field label{font-family:'Share Tech Mono',monospace;font-size:7px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;display:block;margin-bottom:2px}
.order-field strong{color:var(--text);font-size:13px}
.order-actions{margin-top:10px;display:flex;gap:8px}

/* TOAST */
.toast{position:fixed;bottom:32px;right:32px;z-index:9000;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;padding:14px 24px;border-left:3px solid var(--accent);background:var(--surface);color:var(--text);transform:translateX(120%);transition:transform .3s;max-width:300px}
.toast.show{transform:translateX(0)}.toast.error{border-color:var(--accent2)}

.reveal{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}
.reveal.vis{opacity:1;transform:translateY(0)}

@media(max-width:768px){
  nav{padding:0 20px}.hero{padding:80px 20px 60px}.hero-stats{display:none}
  .section{padding:60px 20px}.trust-grid{grid-template-columns:1fr 1fr}
  footer{flex-direction:column;gap:16px;text-align:center;padding:28px 20px}
  .admin-modal,.buy-modal{max-width:100%;margin:0 8px}.form-row{grid-template-columns:1fr}
  .search-bar{padding:16px 20px}
}
</style>
</head>
<body>

<div class="cur" id="curDot"><div class="cur-dot"></div></div>
<div class="cur" id="curRing"><div class="cur-ring"></div></div>
<div class="toast" id="toast"></div>

<!-- NAV -->
<nav>
  <a href="#" class="logo">NO MAN'S LAND</a>
  <div class="nav-right">
    <button class="nav-btn" onclick="smoothScroll('#products-section')">Shop</button>
    <button class="nav-btn" onclick="openLogin()">Admin</button>
    <a href="https://discord.gg/yRDud7tW" target="_blank" class="nav-discord">Discord</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-grid"></div><div class="hero-vignette"></div>
  <div class="hero-gfx"><div class="hero-gfx-inner"></div></div>
  <div class="hero-content">
    <div class="hero-eyebrow">Digital Goods ‚Äî All Categories</div>
    <h1 class="hero-title">
      <span class="t1">NO</span>
      <span class="t2" data-t="MAN'S">MAN'S</span>
      <span class="t3">LAND</span>
    </h1>
    <p class="hero-desc"><strong>Premium digital products.</strong> Instant delivery, real prices, no gatekeeping. Order via Discord.</p>
    <div class="hero-actions">
      <a href="#products-section" class="btn btn-primary">Browse Store</a>
      <a href="https://discord.gg/yRDud7tW" target="_blank" class="btn btn-ghost">Join Discord</a>
    </div>
  </div>
  <div class="hero-stats">
    <div class="stat"><div class="stat-n" id="statCount">‚Äî</div><div class="stat-l">Products</div></div>
    <div class="stat"><div class="stat-n">24/7</div><div class="stat-l">Support</div></div>
    <div class="stat"><div class="stat-n">100%</div><div class="stat-l">Legit</div></div>
  </div>
</section>

<!-- TICKER -->
<div class="ticker"><div class="ticker-track" id="tickerTrack"></div></div>

<!-- SEARCH BAR -->
<div class="search-bar" id="searchBar">
  <div class="search-input-wrap">
    <span class="search-icon">‚åï</span>
    <input type="text" class="search-input" id="searchInput" placeholder="Search products..." oninput="filterProducts()">
  </div>
  <div class="cat-filters" id="catFilters">
    <button class="cat-filter active" data-cat="all" onclick="setCat('all',this)">All</button>
  </div>
  <select class="sort-select" id="sortSelect" onchange="filterProducts()">
    <option value="default">Sort: Default</option>
    <option value="price-asc">Price: Low ‚Üí High</option>
    <option value="price-desc">Price: High ‚Üí Low</option>
    <option value="newest">Newest First</option>
    <option value="rating">Top Rated</option>
  </select>
</div>

<!-- PRODUCTS -->
<section class="section" id="products-section">
  <div class="sec-head-row reveal">
    <div><div class="sec-label">Inventory</div><h2 class="sec-title">THE STORE</h2></div>
  </div>
  <div id="productsContainer">
    <div class="loading-grid" id="loadingGrid">
      <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
      <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
      <div class="skeleton"><div class="skel-img"></div><div class="skel-body"><div class="skel-line"></div><div class="skel-line short"></div><div class="skel-line" style="width:40%"></div></div></div>
    </div>
    <div id="productsGrid"></div>
  </div>
</section>

<!-- TRUST -->
<div class="trust reveal">
  <div class="trust-grid">
    <div class="trust-item"><div class="trust-num">01</div><span class="trust-icon">‚ö°</span><div class="trust-title">Instant Delivery</div><div class="trust-desc">Digital goods handed off fast. No waiting, no queues.</div></div>
    <div class="trust-item"><div class="trust-num">02</div><span class="trust-icon">üõ°Ô∏è</span><div class="trust-title">Buyer Protection</div><div class="trust-desc">Issues? Hit us up on Discord. Sorted every time.</div></div>
    <div class="trust-item"><div class="trust-num">03</div><span class="trust-icon">üí¨</span><div class="trust-title">Direct Contact</div><div class="trust-desc">Real human behind every sale. No bots.</div></div>
    <div class="trust-item"><div class="trust-num">04</div><span class="trust-icon">üî•</span><div class="trust-title">Always Stocked</div><div class="trust-desc">Fresh products added regularly. Check back often.</div></div>
  </div>
</div>

<!-- CTA -->
<section class="cta-section reveal">
  <div class="cta-bg"></div>
  <h2 class="cta-title">READY TO <span>BUY?</span></h2>
  <p class="cta-sub">Browse, pick, submit your Discord ‚Äî and we'll sort you out fast.</p>
  <div class="cta-btns">
    <a href="#products-section" class="btn btn-primary">Browse Products</a>
    <a href="https://discord.gg/yRDud7tW" target="_blank" class="btn btn-ghost">Open Discord</a>
  </div>
</section>

<footer>
  <div class="foot-logo">NO MAN'S LAND</div>
  <div class="foot-copy">¬© 2024 No Man's Land ‚Äî All rights reserved</div>
  <div class="foot-links">
    <a onclick="smoothScroll('#products-section')">Shop</a>
    <a href="https://discord.gg/yRDud7tW" target="_blank">Discord</a>
    <a onclick="openLogin()">Admin</a>
  </div>
</footer>

<!-- ‚ïê‚ïê BUY MODAL ‚ïê‚ïê -->
<div class="modal-overlay" id="buyOverlay">
  <div class="buy-modal">
    <button class="modal-close" onclick="closeModal('buyOverlay')">‚úï Close</button>
    <div class="modal-head">
      <div class="modal-eyebrow">Purchase Inquiry</div>
      <div class="modal-name" id="buyName">‚Äî</div>
      <div class="modal-price"><span class="modal-original" id="buyOriginal" style="display:none"></span><span id="buyPrice">‚Äî</span></div>
    </div>
    <div class="modal-body">
      <div class="modal-desc" id="buyDesc"></div>
      <div class="order-form">
        <div class="form-group">
          <label class="form-label">Your Discord Username *</label>
          <input type="text" class="form-input" id="orderDiscord" placeholder="e.g. username#1234 or @username">
        </div>
        <div class="form-group">
          <label class="form-label">Note (optional)</label>
          <textarea class="form-input" id="orderNote" placeholder="Any extra info for the seller..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Coupon Code</label>
          <div class="coupon-row">
            <input type="text" class="form-input" id="couponInput" placeholder="ENTER CODE">
            <button class="btn-apply" onclick="applyCoupon()">Apply</button>
          </div>
          <div class="coupon-result coupon-ok" id="couponOk"></div>
          <div class="coupon-result coupon-err" id="couponErr"></div>
        </div>
      </div>
      <div class="price-summary" id="priceSummary">
        <div class="price-row"><span>Original Price</span><span id="sumOriginal">‚Äî</span></div>
        <div class="price-row" id="sumDiscountRow" style="display:none"><span>Discount</span><span id="sumDiscount" style="color:var(--accent3)">‚Äî</span></div>
        <div class="price-row"><span>Total</span><span id="sumTotal">‚Äî</span></div>
      </div>
      <div class="modal-contact">
        <div class="modal-contact-label">Seller Discord Contact</div>
        <div class="modal-discord-tag">@nml_store ¬∑ ID: 1429171703879307277</div>
      </div>
      <div class="modal-actions">
        <button class="btn-discord" onclick="submitOrder()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057c.002.022.015.043.03.056a19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.995a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
          Submit Order &amp; Open Discord
        </button>
        <button class="btn-cancel" onclick="closeModal('buyOverlay')">Cancel</button>
      </div>
      <div class="reviews-section" id="reviewsSection">
        <div class="reviews-title">Customer Reviews</div>
        <div id="reviewsList"></div>
        <div class="review-form">
          <div class="review-form-title">Leave a Review</div>
          <div class="star-picker" id="starPicker">
            <button class="star-btn" data-v="1" onclick="setRating(1)">‚òÖ</button>
            <button class="star-btn" data-v="2" onclick="setRating(2)">‚òÖ</button>
            <button class="star-btn" data-v="3" onclick="setRating(3)">‚òÖ</button>
            <button class="star-btn" data-v="4" onclick="setRating(4)">‚òÖ</button>
            <button class="star-btn" data-v="5" onclick="setRating(5)">‚òÖ</button>
          </div>
          <div class="form-group">
            <input type="text" class="form-input" id="reviewDiscord" placeholder="Your Discord username">
          </div>
          <div class="form-group">
            <textarea class="form-input" id="reviewComment" placeholder="Your review (optional)..." style="min-height:50px"></textarea>
          </div>
          <button class="btn-review" onclick="submitReview()">Submit Review</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê COMING SOON MODAL ‚ïê‚ïê -->
<div class="modal-overlay" id="comingOverlay">
  <div class="coming-modal">
    <button class="modal-close" onclick="closeModal('comingOverlay')" style="position:absolute">‚úï</button>
    <div class="coming-icon">üîí</div>
    <div class="coming-title">COMING SOON</div>
    <p class="coming-sub" id="comingName"></p>
    <p style="font-size:13px;color:var(--muted2);margin-bottom:28px">This product isn't available yet. Join the Discord to get notified when it drops.</p>
    <a href="https://discord.gg/yRDud7tW" target="_blank" class="btn-discord" style="text-decoration:none;display:flex;align-items:center;justify-content:center;gap:10px">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057c.002.022.015.043.03.056a19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.995a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
      Join Discord for Updates
    </a>
  </div>
</div>

<!-- ‚ïê‚ïê LOGIN MODAL ‚ïê‚ïê -->
<div class="modal-overlay" id="loginOverlay">
  <div class="login-modal">
    <button class="modal-close" onclick="closeModal('loginOverlay')">‚úï Close</button>
    <div class="login-head"><div class="login-title">ADMIN ACCESS</div><div class="login-sub">No Man's Land Control Panel</div></div>
    <div class="login-body">
      <div class="login-error" id="loginError">Wrong password. Try again.</div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" class="form-input" id="loginPassword" placeholder="Enter admin password" onkeydown="if(event.key==='Enter')doLogin()">
      </div>
      <div style="margin-top:18px"><button class="btn-save" style="width:100%;clip-path:none" onclick="doLogin()" id="loginBtn">Enter</button></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê ADMIN MODAL ‚ïê‚ïê -->
<div class="modal-overlay" id="adminOverlay">
  <div class="admin-modal">
    <div class="admin-head">
      <div class="admin-title">ADMIN PANEL</div>
      <div style="display:flex;gap:12px;align-items:center">
        <button class="nav-btn" onclick="adminLogout()" style="color:var(--accent2)">Logout</button>
        <button class="modal-close" style="position:static" onclick="closeModal('adminOverlay')">‚úï</button>
      </div>
    </div>
    <div class="admin-tabs">
      <button class="admin-tab active" onclick="switchTab('products')">Products</button>
      <button class="admin-tab" onclick="switchTab('orders')">Orders <span class="tab-badge" id="pendingBadge" style="display:none">0</span></button>
      <button class="admin-tab" onclick="switchTab('coupons')">Coupons</button>
      <button class="admin-tab" onclick="switchTab('reviews')">Reviews <span class="tab-badge" id="reviewBadge" style="display:none">0</span></button>
    </div>

    <!-- PRODUCTS TAB -->
    <div class="admin-pane active" id="pane-products">
      <div class="admin-section-title" id="formTitle">Create New Product</div>
      <input type="hidden" id="editId">
      <div class="form-row">
        <div class="form-group"><label class="form-label">Name *</label><input type="text" class="form-input" id="fName" placeholder="e.g. Netflix Premium"></div>
        <div class="form-group"><label class="form-label">Price (USD) *</label><input type="number" class="form-input" id="fPrice" placeholder="9.99" step="0.01" min="0"></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">Category</label><select class="form-input" id="fCategory"><option>Digital</option><option>Accounts</option><option>Software</option><option>Gaming</option><option>Subscriptions</option><option>Other</option></select></div>
        <div class="form-group"><label class="form-label">Badge</label><select class="form-input" id="fBadge"><option value="">None</option><option value="NEW">NEW</option><option value="HOT">HOT</option><option value="SALE">SALE</option><option value="LIMITED">LIMITED</option></select></div>
      </div>
      <div class="form-group"><label class="form-label">Description</label><textarea class="form-input" id="fDesc" placeholder="What does the buyer get?"></textarea></div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">Stock (999 = unlimited)</label><input type="number" class="form-input" id="fStock" placeholder="999" min="0"></div>
        <div class="form-group" style="display:flex;flex-direction:column;justify-content:flex-end;gap:10px;padding-bottom:2px">
          <label class="form-check"><input type="checkbox" id="fFeatured"><label for="fFeatured">‚≠ê Featured (pinned to top)</label></label>
          <label class="form-check"><input type="checkbox" id="fComingSoon"><label for="fComingSoon">üîí Coming Soon (hidden price/details)</label></label>
        </div>
      </div>
      <div class="form-group"><label class="form-label">Product Image</label>
        <div class="img-upload-area" id="imgUploadArea">
          <input type="file" accept="image/*" id="fImage" onchange="previewImg(event)">
          <div class="img-upload-icon">üì∑</div>
          <div class="img-upload-text">Click to upload (max 10MB)</div>
          <img class="img-preview" id="imgPreview" alt="Preview">
        </div>
      </div>
      <div class="form-actions">
        <button class="btn-save" id="saveBtn" onclick="saveProduct()">Save Product</button>
        <button class="btn-danger" id="deleteBtn" style="display:none" onclick="deleteProduct()">Delete</button>
        <button class="btn-cancel" onclick="resetForm()">Clear</button>
      </div>
      <div style="margin-top:24px">
        <div class="admin-section-title">Existing Products</div>
        <div class="prod-list" id="adminProdList"></div>
      </div>
    </div>

    <!-- ORDERS TAB -->
    <div class="admin-pane" id="pane-orders">
      <div class="admin-section-title">Incoming Order Inquiries</div>
      <div id="ordersList"><div style="font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);text-transform:uppercase">No orders yet.</div></div>
    </div>

    <!-- COUPONS TAB -->
    <div class="admin-pane" id="pane-coupons">
      <div class="admin-section-title">Create Coupon</div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">Code</label><input type="text" class="form-input" id="cCode" placeholder="SUMMER20" style="text-transform:uppercase"></div>
        <div class="form-group"><label class="form-label">Type</label><select class="form-input" id="cType"><option value="percent">Percent Off (%)</option><option value="fixed">Fixed Amount ($)</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">Value</label><input type="number" class="form-input" id="cValue" placeholder="20" min="0" step="0.01"></div>
        <div class="form-group"><label class="form-label">Max Uses (999 = unlimited)</label><input type="number" class="form-input" id="cMaxUses" placeholder="999" min="1"></div>
      </div>
      <div class="form-actions"><button class="btn-save" onclick="createCoupon()" style="clip-path:none">Create Coupon</button></div>
      <div style="margin-top:24px">
        <div class="admin-section-title">Active Coupons</div>
        <div id="couponsList"></div>
      </div>
    </div>

    <!-- REVIEWS TAB -->
    <div class="admin-pane" id="pane-reviews">
      <div class="admin-section-title">All Reviews (approve or delete)</div>
      <div id="allReviewsList"></div>
    </div>
  </div>
</div>

<script>
const API = window.location.origin + '/api';
let adminToken = sessionStorage.getItem('nml_token') || null;
let allProducts = [];
let activeCat = 'all';
let currentProductId = null;
let selectedRating = 0;
let appliedCoupon = null;

// ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const dot=document.getElementById('curDot'), ring=document.getElementById('curRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;dot.style.left=mx+'px';dot.style.top=my+'px'});
(function ar(){rx+=(mx-rx)*.1;ry+=(my-ry)*.1;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(ar)})();
document.querySelectorAll('a,button,.product-card').forEach(el=>{
  el.addEventListener('mouseenter',()=>dot.querySelector('.cur-dot').style.transform='scale(2)');
  el.addEventListener('mouseleave',()=>dot.querySelector('.cur-dot').style.transform='scale(1)');
});

// ‚îÄ‚îÄ TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const tItems=['Digital Products','Accounts','Software','Gaming','Subscriptions','Fast Delivery','Trusted Seller','Discord Support','Coupon Codes','Coming Soon Drops'];
const tt=document.getElementById('tickerTrack');
const doubled=[...tItems,...tItems];
tt.innerHTML=doubled.map(i=>`<span class="ticker-item">${i} <span style="color:rgba(0,0,0,.3)">‚óÜ</span></span>`).join('');

// ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const ro=new IntersectionObserver(es=>es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('vis');ro.unobserve(e.target)}}),{threshold:.1});
document.querySelectorAll('.reveal').forEach(r=>ro.observe(r));

function smoothScroll(sel){document.querySelector(sel)?.scrollIntoView({behavior:'smooth'})}

// ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toast(msg,err=false){const t=document.getElementById('toast');t.textContent=msg;t.className='toast'+(err?' error':'');void t.offsetWidth;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3200)}

// ‚îÄ‚îÄ MODALS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openModal(id){document.getElementById(id).classList.add('open')}
function closeModal(id){document.getElementById(id).classList.remove('open')}
document.querySelectorAll('.modal-overlay').forEach(o=>o.addEventListener('click',e=>{if(e.target===o)o.classList.remove('open')}));

// ‚îÄ‚îÄ PRODUCTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadProducts(){
  try{
    const headers = adminToken ? {Authorization:'Bearer '+adminToken} : {};
    const res=await fetch(`${API}/products`,{headers});
    allProducts=await res.json();
    document.getElementById('statCount').textContent=allProducts.filter(p=>!p.coming_soon).length;
    buildCatFilters();
    renderProducts(allProducts);
    if(adminToken) renderAdminList(allProducts);
  }catch(e){
    document.getElementById('loadingGrid').innerHTML='<div class="empty-state">‚ö† Cannot connect to server</div>';
  }
}

function buildCatFilters(){
  const cats=[...new Set(allProducts.map(p=>p.category||'Digital'))];
  const el=document.getElementById('catFilters');
  el.innerHTML=`<button class="cat-filter active" data-cat="all" onclick="setCat('all',this)">All</button>`;
  cats.forEach(c=>el.innerHTML+=`<button class="cat-filter" data-cat="${c}" onclick="setCat('${c}',this)">${c}</button>`);
}

function setCat(cat,btn){
  activeCat=cat;
  document.querySelectorAll('.cat-filter').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  filterProducts();
}

function filterProducts(){
  const q=document.getElementById('searchInput').value.toLowerCase();
  const sort=document.getElementById('sortSelect').value;
  let filtered=allProducts.filter(p=>{
    const matchCat=activeCat==='all'||p.category===activeCat;
    const matchQ=!q||(p.name||'').toLowerCase().includes(q)||(p.description||'').toLowerCase().includes(q)||(p.category||'').toLowerCase().includes(q);
    return matchCat&&matchQ;
  });
  if(sort==='price-asc') filtered.sort((a,b)=>a.price-b.price);
  else if(sort==='price-desc') filtered.sort((a,b)=>b.price-a.price);
  else if(sort==='newest') filtered.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));
  else { filtered.sort((a,b)=>{ if(a.featured&&!b.featured)return -1; if(!a.featured&&b.featured)return 1; return 0; }); }
  renderProducts(filtered);
}

function getStockBadge(p){
  if(p.coming_soon) return '';
  if(p.stock>=999) return '<span class="pc-stock-badge stock-unlimited">In Stock</span>';
  if(p.stock===0) return '<span class="pc-stock-badge stock-out">Out of Stock</span>';
  if(p.stock<=5) return `<span class="pc-stock-badge stock-low">Only ${p.stock} left!</span>`;
  return `<span class="pc-stock-badge stock-ok">${p.stock} in stock</span>`;
}

function getAvgRating(productId){
  // We'll load this async; for now show placeholder
  return null;
}

function renderProducts(products){
  const grid=document.getElementById('productsGrid');
  document.getElementById('loadingGrid').style.display='none';
  grid.style.display='';
  if(!products.length){grid.innerHTML='<div class="empty-state">No products found</div>';return;}

  const featured=products.filter(p=>p.featured);
  const rest=products.filter(p=>!p.featured);

  let html='';
  if(featured.length){
    html+=`<div class="featured-banner"><span class="featured-label">‚≠ê Featured Products</span></div>`;
  }
  html+='<div class="products-grid">';
  [...featured,...rest].forEach(p=>{
    if(p.coming_soon){
      html+=`<div class="product-card coming-soon-card ${p.featured?'featured-card':''}" onclick="openComing(${JSON.stringify(p).replace(/"/g,'&quot;')})">
        <div class="pc-img">${p.image?`<img src="${p.image}" alt="${p.name}" loading="lazy">`:'<div class="pc-img-placeholder">NML</div>'}
          <div class="pc-badge badge-soon">SOON</div>${p.featured?'<div class="pc-featured-star">‚≠ê</div>':''}
        </div>
        <div class="pc-body"><div class="pc-cat">${p.category||'Digital'}</div><div class="pc-name">${p.name}</div>
          <div class="pc-desc">Coming soon ‚Äî join Discord for updates</div>
          <div class="pc-lock">üîí Not Available Yet</div></div></div>`;
    } else {
      html+=`<div class="product-card ${p.featured?'featured-card':''}" onclick="openBuy(${JSON.stringify(p).replace(/"/g,'&quot;')})">
        <div class="pc-img">${p.image?`<img src="${p.image}" alt="${p.name}" loading="lazy">`:'<div class="pc-img-placeholder">NML</div>'}
          <div class="pc-overlay"></div>
          ${p.badge?`<div class="pc-badge badge-${p.badge.toLowerCase()}">${p.badge}</div>`:''}
          ${p.featured?'<div class="pc-featured-star">‚≠ê</div>':''}
          <div class="pc-buy">Buy Now ‚Üí</div>
        </div>
        <div class="pc-body">
          <div class="pc-cat">${p.category||'Digital'}</div>
          <div class="pc-name">${p.name}</div>
          ${p.description?`<div class="pc-desc">${p.description.substring(0,75)}${p.description.length>75?'‚Ä¶':''}</div>`:''}
          <div class="pc-foot">
            <div class="pc-price">$${parseFloat(p.price).toFixed(2)}</div>
            ${getStockBadge(p)}
          </div>
          <div class="pc-rating-row" id="rating-${p.id}"></div>
        </div></div>`;
    }
  });
  html+='</div>';
  grid.innerHTML=html;
  loadRatings(products.filter(p=>!p.coming_soon));
}

async function loadRatings(products){
  try{
    const res=await fetch(`${API}/reviews`);
    const reviews=await res.json();
    products.forEach(p=>{
      const pReviews=reviews.filter(r=>r.productId===p.id&&r.approved);
      const el=document.getElementById('rating-'+p.id);
      if(!el) return;
      if(pReviews.length){
        const avg=(pReviews.reduce((s,r)=>s+r.rating,0)/pReviews.length);
        const stars='‚òÖ'.repeat(Math.round(avg))+'‚òÜ'.repeat(5-Math.round(avg));
        el.innerHTML=`<span class="pc-stars">${stars}</span><span class="pc-rating-count">(${pReviews.length})</span>`;
      }
    });
  }catch(e){}
}

// ‚îÄ‚îÄ BUY MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function openBuy(product){
  currentProductId=product.id;
  appliedCoupon=null;
  selectedRating=0;
  document.getElementById('orderDiscord').value='';
  document.getElementById('orderNote').value='';
  document.getElementById('couponInput').value='';
  document.getElementById('couponOk').style.display='none';
  document.getElementById('couponErr').style.display='none';
  document.getElementById('sumDiscountRow').style.display='none';
  document.getElementById('buyOriginal').style.display='none';
  document.querySelectorAll('.star-btn').forEach(b=>b.classList.remove('active'));

  document.getElementById('buyName').textContent=product.name;
  document.getElementById('buyPrice').textContent='$'+parseFloat(product.price).toFixed(2);
  document.getElementById('buyDesc').textContent=product.description||'Contact us on Discord for more details.';
  document.getElementById('sumOriginal').textContent='$'+parseFloat(product.price).toFixed(2);
  document.getElementById('sumTotal').textContent='$'+parseFloat(product.price).toFixed(2);
  openModal('buyOverlay');

  // Load reviews
  try{
    const res=await fetch(`${API}/reviews?productId=${product.id}`);
    const reviews=await res.json();
    const list=document.getElementById('reviewsList');
    if(!reviews.length){
      list.innerHTML='<div class="no-reviews">No reviews yet ‚Äî be the first!</div>';
    } else {
      list.innerHTML=reviews.map(r=>`
        <div class="review-item">
          <div class="review-header">
            <span class="review-user">${r.discordUsername}</span>
            <span class="review-stars">${'‚òÖ'.repeat(r.rating)}${'‚òÜ'.repeat(5-r.rating)}</span>
          </div>
          ${r.comment?`<div class="review-comment">${r.comment}</div>`:''}
          <div class="review-date">${new Date(r.createdAt).toLocaleDateString()}</div>
        </div>`).join('');
    }
  }catch(e){}
}

function openComing(product){
  document.getElementById('comingName').textContent=`"${product.name}" is coming soon.`;
  openModal('comingOverlay');
}

async function applyCoupon(){
  const code=document.getElementById('couponInput').value.trim();
  const product=allProducts.find(p=>p.id===currentProductId);
  if(!code||!product) return;
  const okEl=document.getElementById('couponOk'), errEl=document.getElementById('couponErr');
  okEl.style.display='none'; errEl.style.display='none';
  try{
    const res=await fetch(`${API}/coupons/validate`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({code,price:product.price})});
    const data=await res.json();
    if(res.ok){
      appliedCoupon={code,data};
      okEl.textContent=`‚úì ${data.coupon.type==='percent'?data.coupon.value+'%':'$'+data.coupon.value} off applied!`;
      okEl.style.display='block';
      document.getElementById('buyOriginal').textContent='$'+parseFloat(data.original).toFixed(2);
      document.getElementById('buyOriginal').style.display='';
      document.getElementById('buyPrice').textContent='$'+parseFloat(data.final).toFixed(2);
      document.getElementById('sumOriginal').textContent='$'+parseFloat(data.original).toFixed(2);
      document.getElementById('sumDiscount').textContent='-$'+parseFloat(data.discount).toFixed(2);
      document.getElementById('sumDiscountRow').style.display='flex';
      document.getElementById('sumTotal').textContent='$'+parseFloat(data.final).toFixed(2);
    } else {
      errEl.textContent='‚úó '+data.error; errEl.style.display='block';
      appliedCoupon=null;
    }
  }catch(e){errEl.textContent='‚úó Error validating coupon';errEl.style.display='block';}
}

async function submitOrder(){
  const discord=document.getElementById('orderDiscord').value.trim();
  if(!discord){toast('Please enter your Discord username',true);return;}
  const product=allProducts.find(p=>p.id===currentProductId);
  if(!product) return;
  const finalPrice=appliedCoupon?appliedCoupon.data.final:product.price;
  try{
    const res=await fetch(`${API}/orders`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({
      productId:currentProductId,discordUsername:discord,
      note:document.getElementById('orderNote').value,
      couponCode:appliedCoupon?appliedCoupon.code:null,
      finalPrice
    })});
    if(res.ok){
      toast('Order submitted! Opening Discord...');
      setTimeout(()=>window.open('https://discord.gg/yRDud7tW','_blank'),600);
      closeModal('buyOverlay');
    } else {
      const d=await res.json(); toast(d.error||'Error',true);
    }
  }catch(e){toast('Server error',true);}
}

function setRating(v){
  selectedRating=v;
  document.querySelectorAll('.star-btn').forEach((b,i)=>b.classList.toggle('active',i<v));
}

async function submitReview(){
  const discord=document.getElementById('reviewDiscord').value.trim();
  if(!discord||!selectedRating){toast('Please enter username and rating',true);return;}
  try{
    const res=await fetch(`${API}/reviews`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({
      productId:currentProductId,discordUsername:discord,
      rating:selectedRating,comment:document.getElementById('reviewComment').value
    })});
    if(res.ok){toast('Review submitted! Awaiting approval.');document.getElementById('reviewDiscord').value='';document.getElementById('reviewComment').value='';setRating(0);}
    else{const d=await res.json();toast(d.error||'Error',true);}
  }catch(e){toast('Server error',true);}
}

// ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openLogin(){openModal('loginOverlay');setTimeout(()=>document.getElementById('loginPassword').focus(),100)}

async function doLogin(){
  const pw=document.getElementById('loginPassword').value;
  const errEl=document.getElementById('loginError'),btn=document.getElementById('loginBtn');
  errEl.style.display='none'; btn.textContent='Checking...'; btn.disabled=true;
  try{
    const res=await fetch(`${API}/admin/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:pw})});
    const data=await res.json();
    if(res.ok){
      adminToken=data.token; sessionStorage.setItem('nml_token',adminToken);
      closeModal('loginOverlay'); document.getElementById('loginPassword').value='';
      toast('Welcome back, boss üî´'); openAdminPanel();
    } else { errEl.style.display='block'; }
  }catch(e){errEl.textContent='Cannot reach server.';errEl.style.display='block';}
  btn.textContent='Enter'; btn.disabled=false;
}

function adminLogout(){adminToken=null;sessionStorage.removeItem('nml_token');closeModal('adminOverlay');toast('Logged out');}

// ‚îÄ‚îÄ ADMIN PANEL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function openAdminPanel(){
  openModal('adminOverlay');
  await loadProducts();
  loadAdminOrders();
  loadAdminCoupons();
  loadAdminReviews();
}

function switchTab(name){
  document.querySelectorAll('.admin-tab').forEach((t,i)=>t.classList.toggle('active',['products','orders','coupons','reviews'][i]===name));
  document.querySelectorAll('.admin-pane').forEach(p=>p.classList.remove('active'));
  document.getElementById('pane-'+name).classList.add('active');
}

function renderAdminList(products){
  const list=document.getElementById('adminProdList');
  if(!products.length){list.innerHTML='<div style="font-family:\'Share Tech Mono\',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;padding:10px">No products</div>';return;}
  list.innerHTML=products.map(p=>`
    <div class="prod-item" onclick='loadEditForm(${JSON.stringify(p).replace(/'/g,"&#39;")})'>
      ${p.image?`<img class="prod-item-img" src="${p.image}" alt="">`:`<div class="prod-item-img">üì¶</div>`}
      <div>
        <div class="prod-item-name">${p.name}</div>
        <div class="prod-item-cat">${p.category||'Digital'}</div>
        <div class="prod-item-tags">
          ${p.featured?'<span class="mini-tag tag-featured">Featured</span>':''}
          ${p.coming_soon?'<span class="mini-tag tag-soon">Coming Soon</span>':''}
        </div>
      </div>
      <div class="prod-item-price">$${parseFloat(p.price).toFixed(2)}</div>
    </div>`).join('');
}

function resetForm(){
  document.getElementById('editId').value='';
  document.getElementById('fName').value='';
  document.getElementById('fPrice').value='';
  document.getElementById('fDesc').value='';
  document.getElementById('fCategory').value='Digital';
  document.getElementById('fBadge').value='';
  document.getElementById('fStock').value='';
  document.getElementById('fFeatured').checked=false;
  document.getElementById('fComingSoon').checked=false;
  document.getElementById('fImage').value='';
  document.getElementById('imgPreview').style.display='none';
  document.getElementById('formTitle').textContent='Create New Product';
  document.getElementById('saveBtn').textContent='Save Product';
  document.getElementById('deleteBtn').style.display='none';
}

function loadEditForm(p){
  resetForm();
  document.getElementById('editId').value=p.id;
  document.getElementById('fName').value=p.name;
  document.getElementById('fPrice').value=p.price;
  document.getElementById('fDesc').value=p.description||'';
  document.getElementById('fCategory').value=p.category||'Digital';
  document.getElementById('fBadge').value=p.badge||'';
  document.getElementById('fStock').value=p.stock||999;
  document.getElementById('fFeatured').checked=!!p.featured;
  document.getElementById('fComingSoon').checked=!!p.coming_soon;
  document.getElementById('formTitle').textContent='Editing: '+p.name;
  document.getElementById('saveBtn').textContent='Update Product';
  document.getElementById('deleteBtn').style.display='block';
  if(p.image){const prev=document.getElementById('imgPreview');prev.src=p.image;prev.style.display='block';}
  document.getElementById('adminOverlay').scrollTop=0;
  switchTab('products');
}

function previewImg(e){
  const f=e.target.files[0];if(!f)return;
  const r=new FileReader();r.onload=ev=>{const p=document.getElementById('imgPreview');p.src=ev.target.result;p.style.display='block';};r.readAsDataURL(f);
}

async function saveProduct(){
  const id=document.getElementById('editId').value;
  const name=document.getElementById('fName').value.trim();
  const price=document.getElementById('fPrice').value;
  if(!name||!price){toast('Name and price required',true);return;}
  const btn=document.getElementById('saveBtn');btn.textContent='Saving...';btn.disabled=true;
  const fd=new FormData();
  fd.append('name',name);fd.append('price',price);
  fd.append('description',document.getElementById('fDesc').value);
  fd.append('category',document.getElementById('fCategory').value);
  fd.append('badge',document.getElementById('fBadge').value);
  fd.append('stock',document.getElementById('fStock').value||999);
  fd.append('featured',document.getElementById('fFeatured').checked);
  fd.append('coming_soon',document.getElementById('fComingSoon').checked);
  const img=document.getElementById('fImage').files[0];if(img)fd.append('image',img);
  try{
    const res=await fetch(id?`${API}/products/${id}`:`${API}/products`,{method:id?'PUT':'POST',headers:{Authorization:'Bearer '+adminToken},body:fd});
    if(res.ok){toast(id?'Updated!':'Created! üî•');resetForm();loadProducts();}
    else{const e=await res.json();toast(e.error||'Error',true);}
  }catch(e){toast('Server error',true);}
  btn.textContent=document.getElementById('editId').value?'Update Product':'Save Product';btn.disabled=false;
}

async function deleteProduct(){
  const id=document.getElementById('editId').value;if(!id)return;
  if(!confirm('Delete this product forever?'))return;
  const res=await fetch(`${API}/products/${id}`,{method:'DELETE',headers:{Authorization:'Bearer '+adminToken}});
  if(res.ok){toast('Deleted');resetForm();loadProducts();}else toast('Error deleting',true);
}

// ‚îÄ‚îÄ ORDERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadAdminOrders(){
  try{
    const res=await fetch(`${API}/orders`,{headers:{Authorization:'Bearer '+adminToken}});
    const orders=await res.json();
    const pending=orders.filter(o=>o.status==='pending').length;
    const badge=document.getElementById('pendingBadge');
    if(pending>0){badge.textContent=pending;badge.style.display='';}else badge.style.display='none';
    const el=document.getElementById('ordersList');
    if(!orders.length){el.innerHTML='<div style="font-family:\'Share Tech Mono\',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);text-transform:uppercase">No orders yet</div>';return;}
    el.innerHTML=orders.map(o=>`
      <div class="order-item" id="order-${o.id}">
        <div class="order-header">
          <span class="order-id">#${o.id.substring(0,8)}</span>
          <span class="order-status status-${o.status}">${o.status.toUpperCase()}</span>
        </div>
        <div class="order-fields">
          <div class="order-field"><label>Product</label><strong>${o.productName}</strong></div>
          <div class="order-field"><label>Discord</label><strong>${o.discordUsername}</strong></div>
          <div class="order-field"><label>Price</label><strong>$${parseFloat(o.finalPrice).toFixed(2)}${o.couponCode?` (${o.couponCode})`:''}</strong></div>
          ${o.note?`<div class="order-field" style="grid-column:1/-1"><label>Note</label><strong>${o.note}</strong></div>`:''}
          <div class="order-field"><label>Date</label><strong>${new Date(o.createdAt).toLocaleString()}</strong></div>
        </div>
        <div class="order-actions">
          <button class="btn-sm btn-sm-approve" onclick="setOrderStatus('${o.id}','completed')">Mark Complete</button>
          <button class="btn-sm btn-sm-del" onclick="setOrderStatus('${o.id}','cancelled')">Cancel</button>
          <button class="btn-sm btn-sm-toggle" onclick="setOrderStatus('${o.id}','pending')">Reset</button>
        </div>
      </div>`).join('');
  }catch(e){}
}

async function setOrderStatus(id,status){
  try{
    await fetch(`${API}/orders/${id}/status`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:'Bearer '+adminToken},body:JSON.stringify({status})});
    toast('Order updated');loadAdminOrders();
  }catch(e){toast('Error',true);}
}

// ‚îÄ‚îÄ COUPONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadAdminCoupons(){
  try{
    const res=await fetch(`${API}/coupons`,{headers:{Authorization:'Bearer '+adminToken}});
    const coupons=await res.json();
    const el=document.getElementById('couponsList');
    if(!coupons.length){el.innerHTML='<div style="font-family:\'Share Tech Mono\',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);text-transform:uppercase">No coupons yet</div>';return;}
    el.innerHTML=`<table class="data-table"><thead><tr><th>Code</th><th>Type</th><th>Value</th><th>Uses</th><th>Status</th><th>Actions</th></tr></thead><tbody>
      ${coupons.map(c=>`<tr>
        <td><strong>${c.code}</strong></td>
        <td>${c.type==='percent'?c.value+'%':'$'+c.value}</td>
        <td>${c.type==='percent'?c.value+'% off':'$'+c.value+' off'}</td>
        <td>${c.uses}/${c.maxUses>=999?'‚àû':c.maxUses}</td>
        <td><span class="${c.active?'tag-active':'tag-inactive'}">${c.active?'ACTIVE':'OFF'}</span></td>
        <td style="display:flex;gap:6px">
          <button class="btn-sm btn-sm-toggle" onclick="toggleCoupon('${c.id}',${!c.active})">${c.active?'Disable':'Enable'}</button>
          <button class="btn-sm btn-sm-del" onclick="deleteCoupon('${c.id}')">Delete</button>
        </td></tr>`).join('')}
    </tbody></table>`;
  }catch(e){}
}

async function createCoupon(){
  const code=document.getElementById('cCode').value.trim();
  const type=document.getElementById('cType').value;
  const value=document.getElementById('cValue').value;
  const maxUses=document.getElementById('cMaxUses').value||999;
  if(!code||!value){toast('Code and value required',true);return;}
  try{
    const res=await fetch(`${API}/coupons`,{method:'POST',headers:{'Content-Type':'application/json',Authorization:'Bearer '+adminToken},body:JSON.stringify({code,type,value,maxUses})});
    if(res.ok){toast('Coupon created!');document.getElementById('cCode').value='';document.getElementById('cValue').value='';loadAdminCoupons();}
    else{const e=await res.json();toast(e.error||'Error',true);}
  }catch(e){toast('Server error',true);}
}

async function toggleCoupon(id,active){
  await fetch(`${API}/coupons/${id}`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:'Bearer '+adminToken},body:JSON.stringify({active})});
  loadAdminCoupons();
}

async function deleteCoupon(id){
  if(!confirm('Delete coupon?'))return;
  await fetch(`${API}/coupons/${id}`,{method:'DELETE',headers:{Authorization:'Bearer '+adminToken}});
  toast('Coupon deleted');loadAdminCoupons();
}

// ‚îÄ‚îÄ REVIEWS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadAdminReviews(){
  try{
    const res=await fetch(`${API}/reviews`,{headers:{Authorization:'Bearer '+adminToken}});
    const reviews=await res.json();
    const pending=reviews.filter(r=>!r.approved).length;
    const badge=document.getElementById('reviewBadge');
    if(pending>0){badge.textContent=pending;badge.style.display='';}else badge.style.display='none';
    const el=document.getElementById('allReviewsList');
    if(!reviews.length){el.innerHTML='<div style="font-family:\'Share Tech Mono\',monospace;font-size:10px;letter-spacing:2px;color:var(--muted);text-transform:uppercase">No reviews yet</div>';return;}
    el.innerHTML=reviews.sort((a,b)=>a.approved-b.approved).map(r=>`
      <div class="review-item">
        <div class="review-header">
          <span class="review-user">${r.discordUsername} ‚Äî ${r.productName}</span>
          <span class="review-stars">${'‚òÖ'.repeat(r.rating)}${'‚òÜ'.repeat(5-r.rating)}</span>
        </div>
        ${r.comment?`<div class="review-comment">${r.comment}</div>`:''}
        <div class="review-date">${new Date(r.createdAt).toLocaleDateString()} ¬∑ ${r.approved?'<span style="color:var(--accent3)">Approved</span>':'<span style="color:var(--accent)">Pending</span>'}</div>
        <div style="display:flex;gap:8px;margin-top:10px">
          ${!r.approved?`<button class="btn-sm btn-sm-approve" onclick="approveReview('${r.id}',true)">Approve</button>`:'<button class="btn-sm btn-sm-toggle" onclick="approveReview(\''+r.id+'\',false)">Unapprove</button>'}
          <button class="btn-sm btn-sm-del" onclick="deleteReview('${r.id}')">Delete</button>
        </div>
      </div>`).join('');
  }catch(e){}
}

async function approveReview(id,approved){
  await fetch(`${API}/reviews/${id}/approve`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:'Bearer '+adminToken},body:JSON.stringify({approved})});
  toast(approved?'Review approved!':'Review unapproved');loadAdminReviews();loadProducts();
}

async function deleteReview(id){
  if(!confirm('Delete review?'))return;
  await fetch(`${API}/reviews/${id}`,{method:'DELETE',headers:{Authorization:'Bearer '+adminToken}});
  toast('Review deleted');loadAdminReviews();
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
loadProducts();
</script>
</body>
</html>
